{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/markdown-it/alert.ts","../../src/node/markdown-it/chart.ts","../../src/node/markdown-it/utils.ts","../../src/node/markdown-it/codeDemo.ts","../../src/node/markdown-it/codeTabs.ts","../../src/node/utils.ts","../../src/node/markdown-it/component.ts","../../src/node/markdown-it/echarts.ts","../../src/node/markdown-it/flowchart.ts","../../src/node/markdown-it/hint.ts","../../src/node/markdown-it/playground/plugin.ts","../../src/node/markdown-it/playground/ventors/lzstring.ts","../../src/node/markdown-it/playground/ventors/optionDeclarations.ts","../../src/node/markdown-it/playground/ts.ts","../../src/node/markdown-it/playground/vue.ts","../../src/node/markdown-it/playground/uno.ts","../../src/node/markdown-it/kotlinPlayground.ts","../../src/node/markdown-it/markmap.ts","../../src/node/markdown-it/mermaid.ts","../../src/node/markdown-it/plantuml.ts","../../src/node/markdown-it/revealjs.ts","../../src/node/markdown-it/tabs.ts","../../src/node/markdown-it/vPre.ts","../../src/node/markdown-it/vuePlayground.ts","../../src/node/markdown-it/sandpack/utils.ts","../../src/node/markdown-it/sandpack/plugin.ts","../../src/node/compact/card.ts","../../src/node/compact/convert.ts","../../src/node/compact/codeDemo.ts","../../src/node/compact/codeGroup.ts","../../src/node/compact/include.ts","../../src/node/compact/flowchart.ts","../../src/node/prepare/prepareConfigFile.ts","../../src/node/prepare/prepareMathjaxStyle.ts","../../src/node/prepare/prepareRevealJs.ts","../../src/node/mdEnhancePlugin.ts"],"sourcesContent":["import type { MarkdownEnhanceLocaleConfig } from \"./typings/index.js\";\n\nexport const markdownEnhanceLocales: MarkdownEnhanceLocaleConfig = {\n  \"/en/\": {\n    important: \"Important\",\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Warning\",\n    caution: \"Caution\",\n    details: \"Details\",\n  },\n\n  \"/zh/\": {\n    important: \"重要\",\n    info: \"相关信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    caution: \"警告\",\n    details: \"详情\",\n  },\n\n  \"/zh-tw/\": {\n    important: \"重要\",\n    info: \"相關信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    caution: \"警告\",\n    details: \"詳情\",\n  },\n\n  \"/de/\": {\n    important: \"Wichtig\",\n    info: \"Information\",\n    note: \"Notiz\",\n    tip: \"Tips\",\n    warning: \"Warnung\",\n    caution: \"Gefahr\",\n    details: \"Details\",\n  },\n\n  \"/de-at/\": {\n    important: \"Wichtig\",\n    info: \"Information\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Notiz\",\n    caution: \"Warnung\",\n    details: \"Details\",\n  },\n\n  \"/vi/\": {\n    important: \"Quan trọng\",\n    info: \"Thông tin\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Lưu ý\",\n    caution: \"Cẩn thận\",\n    details: \"Chi tiết\",\n  },\n\n  \"/uk/\": {\n    important: \"Важливо\",\n    info: \"Інформація\",\n    note: \"Note\",\n    tip: \"Поради\",\n    warning: \"Примітка\",\n    caution: \"Увага\",\n    details: \"Деталь\",\n  },\n\n  \"/ru/\": {\n    important: \"Важно\",\n    info: \"Инфо\",\n    note: \"Заметка\",\n    tip: \"Совет\",\n    warning: \"Примечание\",\n    caution: \"Предупреждение\",\n    details: \"Подробности\",\n  },\n\n  \"/br/\": {\n    important: \"Importante\",\n    info: \"Informativo\",\n    note: \"Note\",\n    tip: \"Dicas\",\n    warning: \"Avisos\",\n    caution: \"Cuidado\",\n    details: \"Detalhe\",\n  },\n\n  \"/pl/\": {\n    important: \"Ważne\",\n    info: \"Info\",\n    note: \"Notatka\",\n    tip: \"Porady\",\n    warning: \"Notatka\",\n    caution: \"Ostrzeżenie\",\n    details: \"Dane\",\n  },\n\n  \"/sk/\": {\n    important: \"Dôležité\",\n    info: \"Info\",\n    note: \"Poznámka\",\n    tip: \"Tip\",\n    warning: \"Upozornenie\",\n    caution: \"Pozor\",\n    details: \"Podrobnosti\",\n  },\n\n  \"/fr/\": {\n    important: \"Important\",\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Conseil\",\n    warning: \"Note\",\n    caution: \"Avertissement\",\n    details: \"Details\",\n  },\n\n  \"/es/\": {\n    important: \"Importante\",\n    info: \"Información\",\n    note: \"Nota\",\n    tip: \"Consejos\",\n    warning: \"Aviso\",\n    caution: \"Advertencia\",\n    details: \"Detalles\",\n  },\n\n  \"/ja/\": {\n    important: \"重要\",\n    info: \"関連情報\",\n    note: \"注\",\n    tip: \"ヒント\",\n    warning: \"注意\",\n    caution: \"警告\",\n    details: \"詳細\",\n  },\n\n  \"/tr/\": {\n    important: \"Önemli\",\n    info: \"Bilgi\",\n    note: \"Not\",\n    tip: \"Tavsiye\",\n    warning: \"Uyarı\",\n    caution: \"Tehlike\",\n    details: \"Detay\",\n  },\n\n  \"/ko/\": {\n    important: \"중요\",\n    info: \"정보\",\n    note: \"노트\",\n    tip: \"팁\",\n    warning: \"경고\",\n    caution: \"위험\",\n    details: \"세부사항\",\n  },\n\n  \"/fi/\": {\n    important: \"Tärkeä\",\n    info: \"Tietoa\",\n    note: \"Huomautus\",\n    tip: \"Vinkki\",\n    warning: \"Varoitus\",\n    caution: \"Vaara\",\n    details: \"Yksityiskohdat\",\n  },\n\n  \"/hu/\": {\n    important: \"Fontos\",\n    info: \"Információ\",\n    note: \"Megjegyzés\",\n    tip: \"Tipp\",\n    warning: \"Figyelem\",\n    caution: \"Veszély\",\n    details: \"Részletek\",\n  },\n\n  \"/id/\": {\n    important: \"Penting\",\n    info: \"Pemberitahuan\",\n    note: \"Catatan\",\n    tip: \"Tips\",\n    warning: \"Penting\",\n    caution: \"Peringatan\",\n    details: \"Rincian\",\n  },\n\n  \"/nl/\": {\n    important: \"Belangrijk\",\n    info: \"Info\",\n    note: \"Notitie\",\n    tip: \"Tips\",\n    warning: \"Notitie\",\n    caution: \"Waarschuwing\",\n    details: \"Details\",\n  },\n};\n","import { alert as _alert } from \"@mdit/plugin-alert\";\nimport type { ExactLocaleConfig } from \"@vuepress/helper\";\nimport { ensureLeadingSlash } from \"@vuepress/helper\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\nimport { resolveLocalePath } from \"vuepress/shared\";\n\nimport type { MarkdownAlertLocaleData } from \"../typings/index.js\";\n\nexport type MarkdownItAlertOptions = ExactLocaleConfig<MarkdownAlertLocaleData>;\n\nexport const alert: PluginWithOptions<MarkdownItAlertOptions> = (\n  md,\n  options = {},\n) => {\n  md.use(_alert, {\n    alertNames: [\"important\", \"note\", \"tip\", \"warning\", \"caution\", \"info\"],\n    openRender: (tokens, index): string =>\n      `<div class=\"hint-container ${tokens[index].markup}\">\\n`,\n    titleRender: (tokens, index, _options, env: MarkdownEnv) => {\n      const type = tokens[index].markup;\n      const relativePath = ensureLeadingSlash(env.filePathRelative ?? \"\");\n      const localePath = resolveLocalePath(options, relativePath);\n\n      return `\\\n<p class=\"hint-container-title\">${\n        options[localePath]?.[type as keyof MarkdownAlertLocaleData] || type\n      }</p>\n`;\n    },\n    closeRender: () => \"</div>\\n\",\n    deep: true,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const chart: PluginSimple = (md) => {\n  container(md, {\n    name: \"chart\",\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // \"chart\" length\n        .slice(5)\n        .trim();\n\n      const key = `chart-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chart_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = encodeData(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = encodeData(content);\n            configType = \"js\";\n          }\n\n        // Set to an unknown token type\n        tokens[i].type = \"chart_empty\";\n        // Hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","/**\n * @see https://spec.commonmark.org/0.29/#line-ending\n */\nexport const NEWLINES_RE = /\\r\\n?|\\n/g;\n\n// Single quote will break @vue/compiler-sfc\nexport const stringifyProp = (data: unknown): string =>\n  JSON.stringify(data).replace(/'/g, \"&#39\");\n\nexport const escapeHtml = (unsafeHTML: string): string =>\n  unsafeHTML\n    .replace(/&/gu, \"&amp;\")\n    .replace(/</gu, \"&lt;\")\n    .replace(/>/gu, \"&gt;\")\n    .replace(/\"/gu, \"&quot;\")\n    .replace(/'/gu, \"&#039;\");\n","import { container } from \"@mdit/plugin-container\";\nimport { demo } from \"@mdit/plugin-demo\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nimport { escapeHtml } from \"./utils.js\";\nimport type { CodeDemoOptions } from \"../../shared/index.js\";\n\nexport const CODE_DEMO_DEFAULT_SETTING: CodeDemoOptions = {\n  useBabel: false,\n  jsLib: [],\n  cssLib: [],\n  codepenLayout: \"left\",\n  codepenEditors: \"101\",\n  babel: \"https://unpkg.com/@babel/standalone/babel.min.js\",\n  vue: \"https://unpkg.com/vue/dist/vue.global.prod.js\",\n  react: \"https://unpkg.com/react/umd/react.production.min.js\",\n  reactDOM: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\n};\n\nconst getPlugin =\n  (name: string): PluginSimple =>\n  (md) =>\n    container(md, {\n      name,\n      openRender: (tokens: Token[], index: number): string => {\n        const title = tokens[index].info.trimStart().slice(name.length).trim();\n\n        let config = \"\";\n        const code: Record<string, string> = {};\n\n        for (let i = index; i < tokens.length; i++) {\n          const { type, content, info } = tokens[i];\n          const language = info\n            ? md.utils\n                .unescapeAll(info)\n                .trim()\n                .match(/^([^ :[{]+)/)?.[1] ?? \"text\"\n            : \"\";\n\n          if (type === `container_${name}_close`) break;\n          if (!content) continue;\n          if (type === \"fence\")\n            if (language === \"json\") config = encodeData(content);\n            else code[language] = content;\n        }\n\n        return `<CodeDemo id=\"code-demo-${index}\" type=\"${name.split(\"-\")[0]}\"${\n          title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n        }${config ? ` config=\"${config}\"` : \"\"} code=\"${encodeData(\n          JSON.stringify(code),\n        )}\">\\n`;\n      },\n      closeRender: () => `</CodeDemo>\\n`,\n    });\n\nexport const normalDemo: PluginSimple = getPlugin(\"normal-demo\");\n\nexport const vueDemo: PluginSimple = getPlugin(\"vue-demo\");\n\nexport const reactDemo: PluginSimple = getPlugin(\"react-demo\");\n\nexport const mdDemo: PluginSimple = (md) => {\n  md.use(demo, {\n    name: \"md-demo\",\n    openRender: (tokens, index) =>\n      `<MdDemo title=\"${escapeHtml(\n        tokens[index].info,\n      )}\" id=\"md-demo-${index}\">\\n`,\n    codeRender: (tokens, index, options, _env, self) => {\n      const token = tokens[index];\n\n      token.type = \"fence\";\n      token.info = \"md\";\n      token.markup = \"```\";\n      // Handle include rule\n      token.content = token.content\n        .split(\"\\n\")\n        .filter(\n          (item) =>\n            !item.startsWith(\"@\") || !/^@include-p(?:ush\\(.*\\)|op)$/.test(item),\n        )\n        .join(\"\\n\");\n\n      return `<template #code>\\n${self.rules.fence!(\n        tokens,\n        index,\n        options,\n        _env,\n        self,\n      )}</template>\\n`;\n    },\n    contentOpenRender: () => `<template #default>\\n`,\n    contentCloseRender: () => `</template>\\n`,\n    closeRender: () => \"</MdDemo>\\n\",\n  });\n};\n","import { tab } from \"@mdit/plugin-tab\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { stringifyProp } from \"./utils.js\";\n\nexport const codeTabs: PluginSimple = (md) => {\n  tab(md, {\n    name: \"code-tabs\",\n\n    tabsOpenRenderer: ({ active, data }, tokens, index) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { meta } = tokens[index];\n      const titles = data.map(({ title }) => md.renderInline(title));\n      const tabsData = data.map((item, index) => {\n        const { id = titles[index] } = item;\n\n        return { id };\n      });\n\n      return `<CodeTabs id=\"${index}\" :data='${stringifyProp(tabsData)}'${\n        active === -1 ? \"\" : ` :active=\"${active}\"`\n      }${\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n      }>\n${titles\n  .map(\n    (title, index) => `\\\n<template #title${index}=\"{ value, isActive }\">${title}</template>\n`,\n  )\n  .join(\"\")}\\\n`;\n    },\n\n    tabsCloseRenderer: () => `\\\n</CodeTabs>\n`,\n\n    tabOpenRenderer: ({ index }, tokens, tokenIndex) => {\n      let foundFence = false;\n\n      // Hide all elements excerpt the first fence\n      for (let i = tokenIndex; i < tokens.length; i++) {\n        const { block, type } = tokens[i];\n\n        if (block) {\n          if (type === \"code-tabs_tab_close\") break;\n\n          if ((type === \"fence\" || type === \"import_code\") && !foundFence) {\n            foundFence = true;\n            continue;\n          }\n\n          tokens[i].type = \"code_tab_empty\";\n          tokens[i].hidden = true;\n        }\n      }\n\n      return `\\\n<template #tab${index}=\"{ value, isActive }\">\n`;\n    },\n\n    tabCloseRenderer: () => `\\\n</template>\n`,\n  });\n};\n","import {\n  Logger,\n  ensureEndingSlash,\n  getInstalledStatus,\n} from \"@vuepress/helper\";\nimport { getDirname, path } from \"vuepress/utils\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const PLUGIN_NAME = \"vuepress-plugin-md-enhance\";\n\nexport const logger = new Logger(PLUGIN_NAME);\n\nexport const CLIENT_FOLDER = ensureEndingSlash(\n  path.resolve(__dirname, \"../client\"),\n);\n\nexport const isInstalled = (pkg: string, hint = true): boolean => {\n  const isInstalled = getInstalledStatus(pkg, import.meta.url);\n\n  if (hint && !isInstalled)\n    logger.error(\n      `Package ${pkg} is not installed, please install it manually!`,\n    );\n\n  return isInstalled;\n};\n","import { load } from \"js-yaml\";\nimport type { Options, PluginSimple } from \"markdown-it\";\nimport type { RenderRule } from \"markdown-it/lib/renderer.mjs\";\nimport type Token from \"markdown-it/lib/token.mjs\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\n\nimport { stringifyProp } from \"./utils.js\";\nimport { logger } from \"../utils.js\";\n\nconst getComponentRender =\n  (name: string): RenderRule =>\n  (\n    tokens: Token[],\n    index: number,\n    _options: Options,\n    { filePathRelative }: MarkdownEnv,\n  ): string => {\n    const token = tokens[index];\n    const { content } = token;\n\n    let config: unknown = null;\n\n    if (content.trim().startsWith(\"{\"))\n      try {\n        config = JSON.parse(content) as unknown;\n      } catch (err) {\n        // Do nothing\n      }\n    else\n      try {\n        config = load(content);\n      } catch (err) {\n        // Do nothing\n      }\n\n    if (config) return `<${name} v-bind='${stringifyProp(config)}' />`;\n\n    logger.error(\n      `Invalid ${name} config${\n        filePathRelative ? ` found in ${filePathRelative}` : \"\"\n      }:\n${content}\n`,\n    );\n\n    return \"\";\n  };\n\nexport const component: PluginSimple = (md) => {\n  // Handle ```component  blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n\n    const [fenceName, componentName] = info.split(\" \", 2);\n\n    if (fenceName === \"component\") {\n      const render = getComponentRender(componentName);\n\n      return render(...args);\n    }\n\n    return fence!(...args);\n  };\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst echartsRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `echarts-${index}`;\n  const { content, info } = token;\n  const title = info.trim().split(\":\", 2)[1];\n\n  return `<ECharts id=\"${key}\" config=\"${encodeData(content)}\"${\n    title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n  }></ECharts>`;\n};\n\nexport const echarts: PluginSimple = (md) => {\n  // Handle ```echarts blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"echarts\") return echartsRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"echarts\"] = echartsRender;\n\n  container(md, {\n    name: \"echarts\",\n\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'echarts' length\n        .slice(7)\n        .trim();\n\n      const key = `echarts-${index}`;\n\n      let config = \"{}\";\n      let isJavaScript = false;\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_echarts_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\")\n          if (info === \"json\") {\n            config = content;\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = content;\n            isJavaScript = true;\n          }\n\n        // Set to an unknown token type\n        tokens[i].type = \"echarts_empty\";\n        // Hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ECharts id=\"${key}\" config=\"${encodeData(config)}\"${\n        title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n      }${isJavaScript ? ' type=\"js\"' : \"\"}>`;\n    },\n    closeRender: () => `</ECharts>`,\n  });\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst flowchartRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `flowchart-${index}`;\n  const { content, info } = token;\n\n  return `<FlowChart id=\"${key}\" code=\"${encodeData(content)}\" preset=\"${\n    info.trim().split(\":\", 2)[1] || \"vue\"\n  }\"></FlowChart>`;\n};\n\nexport const flowchart: PluginSimple = (md) => {\n  // Handle ```flow and ```flowchart blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const [realInfo] = info.split(\":\", 2);\n\n    if (realInfo === \"flow\" || realInfo === \"flowchart\")\n      return flowchartRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"flowchart\"] = flowchartRender;\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { ExactLocaleConfig } from \"@vuepress/helper\";\nimport { ensureLeadingSlash } from \"@vuepress/helper\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\nimport { resolveLocalePath } from \"vuepress/shared\";\n\nimport type { MarkdownHintLocaleData } from \"../typings/index.js\";\n\nexport type MarkdownItHintOptions = ExactLocaleConfig<MarkdownHintLocaleData>;\n\nexport type MarkdownHintBoxName = keyof MarkdownHintLocaleData;\n\nexport const hint: PluginWithOptions<MarkdownItHintOptions> = (\n  md,\n  options = {},\n) => {\n  const containers: MarkdownHintBoxName[] = [\n    \"info\",\n    \"note\",\n    \"tip\",\n    \"warning\",\n    \"caution\",\n    \"important\",\n  ];\n\n  containers.forEach((name) => {\n    md.use(container, {\n      name,\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // Resolve info (title)\n        let info = token.info.trim().slice(name.length).trim();\n\n        // Get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.[name];\n        }\n\n        return `<div class=\"hint-container ${name}\">\\n<p class=\"hint-container-title\">${\n          info || name\n        }</p>\\n`;\n      },\n      closeRender: () => \"</div>\\n\",\n    });\n  });\n\n  // Compact with @vuepress/theme-default\n  md.use(container, {\n    name: \"danger\",\n    openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n      const token = tokens[index];\n\n      // Resolve info (title)\n      let info = token.info.trim().slice(6).trim();\n\n      // Get locale\n      if (!info) {\n        const { filePathRelative } = env;\n        const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n        const localePath = resolveLocalePath(options, relativePath);\n\n        info = options[localePath]?.caution;\n      }\n\n      return `<div class=\"hint-container caution\">\\n<p class=\"hint-container-title\">${\n        info || \"caution\"\n      }</p>\\n`;\n    },\n    closeRender: () => \"</div>\\n\",\n  });\n\n  md.use((md) =>\n    container(md, {\n      name: \"details\",\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // Resolve info (title)\n        let info = token.info\n          .trim()\n          .slice(\n            // Length of \"details\"\n            7,\n          )\n          .trim();\n\n        // Get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.details;\n        }\n\n        return `<details class=\"hint-container details\"><summary>${\n          info || \"Details\"\n        }</summary>\\n`;\n      },\n      closeRender: () => \"</details>\\n\",\n    }),\n  );\n};\n","import { entries } from \"@vuepress/helper\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.mjs\";\nimport { hash } from \"vuepress/utils\";\n\nimport type { PlaygroundData, PlaygroundOptions } from \"../../typings/index.js\";\nimport { escapeHtml } from \"../utils.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"import\", \"setting\"] as const;\n\nconst getPlaygroundRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-containers\n     */\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const containerName = params.trimStart().split(\" \", 2)[0];\n\n    const title = params.trimStart().slice(name.length).trim();\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n\n        state.src[start] === \":\" &&\n        // Closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // Check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // Closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // Make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // Found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: name is an unknown type to markdown-it\n    state.parentType = name;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0),\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n        state.src[start] === AT_MARKER &&\n        // Marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // Found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: unknown type for markdown-it\n    state.parentType = markerName;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst defaultPropsGetter = (\n  playgroundData: PlaygroundData,\n): Record<string, string> => ({\n  key: playgroundData.key,\n  title: playgroundData.title ?? \"\",\n  files: encodeURIComponent(JSON.stringify(playgroundData.files)),\n  settings: encodeURIComponent(JSON.stringify(playgroundData.settings || {})),\n});\n\nexport const playground: PluginWithOptions<PlaygroundOptions> = (\n  md,\n  {\n    name = \"playground\",\n    component = \"Playground\",\n    propsGetter = defaultPropsGetter,\n  } = {\n    name: \"playground\",\n    component: \"Playground\",\n    propsGetter: defaultPropsGetter,\n  },\n) => {\n  md.block.ruler.before(\"fence\", `${name}`, getPlaygroundRule(name), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // Note: Here we use an internal variable to make sure tab rule is not registered\n    // @ts-expect-error: __rules__ is a private property\n    // eslint-disable-next-line\n    if (!md.block.ruler.__rules__.find(({ name }) => name === `at-${marker}`))\n      md.block.ruler.before(\"fence\", `at-${marker}`, atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[`${name}_open`] = (tokens, index): string => {\n    const { info } = tokens[index];\n\n    const playgroundData: PlaygroundData = {\n      key: hash(`playground${index}-${info}`),\n      title: encodeURIComponent(info),\n      settings: {},\n      files: {},\n    };\n\n    let currentKey: string | null = null;\n    let foundSettings = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_close`) break;\n        if (type === `${name}_open`) continue;\n\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info;\n        } else if (type === \"import_open\") {\n          playgroundData.importMap = currentKey = info || \"import-map.json\";\n        } else if (type === \"setting_open\") {\n          foundSettings = true;\n        } else if (\n          type === \"file_close\" ||\n          type === \"import_close\" ||\n          type === \"setting_close\" ||\n          !content\n        ) {\n          tokens[i].type = `${name}_empty`;\n          tokens[i].hidden = true;\n          if (type === \"setting_close\") foundSettings = false;\n          continue;\n        }\n\n        // Parse settings\n        if (foundSettings) {\n          // Handle json blocks\n          if (type === \"fence\" && info === \"json\")\n            playgroundData.settings = JSON.parse(content.trim()) as Record<\n              string,\n              unknown\n            >;\n        }\n        // Add code block content\n        else if (type === \"fence\" && currentKey) {\n          playgroundData.files[currentKey] = {\n            ext: info,\n            content,\n          };\n        }\n\n        tokens[i].type = `${name}_empty`;\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(playgroundData);\n\n    return `<${component} ${entries(props)\n      .map(([attr, value]) => `${attr}=\"${escapeHtml(value)}\"`)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[`${name}_close`] = (): string => `</${component}>\\n`;\n};\n","/* eslint-disable */\n/**\n * Shimmed from https://github.com/pieroxy/lz-string\n */\n\n// Original license reproduced below:\n\n// DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//                     Version 2, December 2004\n//\n//  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>\n//\n//  Everyone is permitted to copy and distribute verbatim or modified\n//  copies of this license document, and changing it is allowed as long\n//  as the name is changed.\n//\n//             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n//\n//   0. You just DO WHAT THE FUCK YOU WANT TO.\n//\n\nconst e = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\n\nconst compress = (o: string, r: number, n: (pos: number) => string) => {\n  if (null == r) return \"\";\n\n  let e,\n    t,\n    i,\n    s = <Record<string, number>>{},\n    p = <Record<string, boolean>>{},\n    u = \"\",\n    c = \"\",\n    a = \"\",\n    l = 2,\n    f = 3,\n    h = 2,\n    d = [],\n    m = 0,\n    v = 0;\n\n  for (i = 0; i < o.length; i += 1)\n    if (\n      ((u = o.charAt(i)),\n      Object.prototype.hasOwnProperty.call(s, u) || ((s[u] = f++), (p[u] = !0)),\n      (c = a + u),\n      Object.prototype.hasOwnProperty.call(s, c))\n    )\n      a = c;\n    else {\n      if (Object.prototype.hasOwnProperty.call(p, a)) {\n        if (a.charCodeAt(0) < 256) {\n          for (e = 0; e < h; e++)\n            (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n          for (t = a.charCodeAt(0), e = 0; e < 8; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        } else {\n          for (t = 1, e = 0; e < h; e++)\n            (m = (m << 1) | t),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t = 0);\n          for (t = c.charCodeAt(0), e = 0; e < 16; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        }\n        0 == --l && ((l = Math.pow(2, h)), h++), delete p[a];\n      } else\n        for (t = s[a], e = 0; e < h; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      0 == --l && ((l = Math.pow(2, h)), h++), (s[c] = f++), (a = String(u));\n    }\n\n  if (\"\" !== a) {\n    if (Object.prototype.hasOwnProperty.call(p, a)) {\n      if (a.charCodeAt(0) < 256) {\n        for (e = 0; e < h; e++)\n          (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n        for (t = a.charCodeAt(0), e = 0; e < 8; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      } else {\n        for (t = 1, e = 0; e < h; e++)\n          (m = (m << 1) | t),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t = 0);\n        for (t = a.charCodeAt(0), e = 0; e < 16; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      }\n      0 == --l && ((l = Math.pow(2, h)), h++), delete p[a];\n    } else\n      for (t = s[a], e = 0; e < h; e++)\n        (m = (m << 1) | (1 & t)),\n          v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n          (t >>= 1);\n    0 == --l && ((l = Math.pow(2, h)), h++);\n  }\n\n  for (t = 2, e = 0; e < h; e++)\n    (m = (m << 1) | (1 & t)),\n      v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n      (t >>= 1);\n\n  for (;;) {\n    if (((m <<= 1), v == r - 1)) {\n      d.push(n(m));\n      break;\n    }\n    v++;\n  }\n\n  return d.join(\"\");\n};\n\nexport const compressToEncodedURIComponent = (content: string) =>\n  compress(content, 6, (pos: number) => e.charAt(pos));\n","/**\n * Note: This file needs to be updated with typescript major and minor updates\n *\n * https://www.typescriptlang.org/play\n *\n * Generated from the following code:\n *\nJSON.stringify(\n  ts.optionDeclarations.map(({ name, type }) => ({\n    name,\n    type: type instanceof Map ? Object.fromEntries(type) : type,\n  }))\n)\n *\n */\n\nexport const optionDeclarations = [\n  { name: \"help\", type: \"boolean\" },\n  { name: \"help\", type: \"boolean\" },\n  { name: \"watch\", type: \"boolean\" },\n  { name: \"preserveWatchOutput\", type: \"boolean\" },\n  { name: \"listFiles\", type: \"boolean\" },\n  { name: \"explainFiles\", type: \"boolean\" },\n  { name: \"listEmittedFiles\", type: \"boolean\" },\n  { name: \"pretty\", type: \"boolean\" },\n  { name: \"traceResolution\", type: \"boolean\" },\n  { name: \"diagnostics\", type: \"boolean\" },\n  { name: \"extendedDiagnostics\", type: \"boolean\" },\n  { name: \"generateCpuProfile\", type: \"string\" },\n  { name: \"generateTrace\", type: \"string\" },\n  { name: \"incremental\", type: \"boolean\" },\n  { name: \"declaration\", type: \"boolean\" },\n  { name: \"declarationMap\", type: \"boolean\" },\n  { name: \"emitDeclarationOnly\", type: \"boolean\" },\n  { name: \"sourceMap\", type: \"boolean\" },\n  { name: \"inlineSourceMap\", type: \"boolean\" },\n  { name: \"assumeChangesOnlyAffectDirectDependencies\", type: \"boolean\" },\n  { name: \"locale\", type: \"string\" },\n  { name: \"all\", type: \"boolean\" },\n  { name: \"version\", type: \"boolean\" },\n  { name: \"init\", type: \"boolean\" },\n  { name: \"project\", type: \"string\" },\n  { name: \"build\", type: \"boolean\" },\n  { name: \"showConfig\", type: \"boolean\" },\n  { name: \"listFilesOnly\", type: \"boolean\" },\n  {\n    name: \"target\",\n    type: {\n      es3: 0,\n      es5: 1,\n      es6: 2,\n      es2015: 2,\n      es2016: 3,\n      es2017: 4,\n      es2018: 5,\n      es2019: 6,\n      es2020: 7,\n      es2021: 8,\n      es2022: 9,\n      esnext: 99,\n    },\n  },\n  {\n    name: \"module\",\n    type: {\n      none: 0,\n      commonjs: 1,\n      amd: 2,\n      system: 4,\n      umd: 3,\n      es6: 5,\n      es2015: 5,\n      es2020: 6,\n      es2022: 7,\n      esnext: 99,\n      node16: 100,\n      nodenext: 199,\n      preserve: 200,\n    },\n  },\n  { name: \"lib\", type: \"list\" },\n  { name: \"allowJs\", type: \"boolean\" },\n  { name: \"checkJs\", type: \"boolean\" },\n  {\n    name: \"jsx\",\n    type: {\n      preserve: 1,\n      \"react-native\": 3,\n      react: 2,\n      \"react-jsx\": 4,\n      \"react-jsxdev\": 5,\n    },\n  },\n  { name: \"outFile\", type: \"string\" },\n  { name: \"outDir\", type: \"string\" },\n  { name: \"rootDir\", type: \"string\" },\n  { name: \"composite\", type: \"boolean\" },\n  { name: \"tsBuildInfoFile\", type: \"string\" },\n  { name: \"removeComments\", type: \"boolean\" },\n  { name: \"noEmit\", type: \"boolean\" },\n  { name: \"importHelpers\", type: \"boolean\" },\n  {\n    name: \"importsNotUsedAsValues\",\n    type: { remove: 0, preserve: 1, error: 2 },\n  },\n  { name: \"downlevelIteration\", type: \"boolean\" },\n  { name: \"isolatedModules\", type: \"boolean\" },\n  { name: \"verbatimModuleSyntax\", type: \"boolean\" },\n  { name: \"strict\", type: \"boolean\" },\n  { name: \"noImplicitAny\", type: \"boolean\" },\n  { name: \"strictNullChecks\", type: \"boolean\" },\n  { name: \"strictFunctionTypes\", type: \"boolean\" },\n  { name: \"strictBindCallApply\", type: \"boolean\" },\n  { name: \"strictPropertyInitialization\", type: \"boolean\" },\n  { name: \"noImplicitThis\", type: \"boolean\" },\n  { name: \"useUnknownInCatchVariables\", type: \"boolean\" },\n  { name: \"alwaysStrict\", type: \"boolean\" },\n  { name: \"noUnusedLocals\", type: \"boolean\" },\n  { name: \"noUnusedParameters\", type: \"boolean\" },\n  { name: \"exactOptionalPropertyTypes\", type: \"boolean\" },\n  { name: \"noImplicitReturns\", type: \"boolean\" },\n  { name: \"noFallthroughCasesInSwitch\", type: \"boolean\" },\n  { name: \"noUncheckedIndexedAccess\", type: \"boolean\" },\n  { name: \"noImplicitOverride\", type: \"boolean\" },\n  { name: \"noPropertyAccessFromIndexSignature\", type: \"boolean\" },\n  {\n    name: \"moduleResolution\",\n    type: {\n      node10: 2,\n      node: 2,\n      classic: 1,\n      node16: 3,\n      nodenext: 99,\n      bundler: 100,\n    },\n  },\n  { name: \"baseUrl\", type: \"string\" },\n  { name: \"paths\", type: \"object\" },\n  { name: \"rootDirs\", type: \"list\" },\n  { name: \"typeRoots\", type: \"list\" },\n  { name: \"types\", type: \"list\" },\n  { name: \"allowSyntheticDefaultImports\", type: \"boolean\" },\n  { name: \"esModuleInterop\", type: \"boolean\" },\n  { name: \"preserveSymlinks\", type: \"boolean\" },\n  { name: \"allowUmdGlobalAccess\", type: \"boolean\" },\n  { name: \"moduleSuffixes\", type: \"list\" },\n  { name: \"allowImportingTsExtensions\", type: \"boolean\" },\n  { name: \"resolvePackageJsonExports\", type: \"boolean\" },\n  { name: \"resolvePackageJsonImports\", type: \"boolean\" },\n  { name: \"customConditions\", type: \"list\" },\n  { name: \"sourceRoot\", type: \"string\" },\n  { name: \"mapRoot\", type: \"string\" },\n  { name: \"inlineSources\", type: \"boolean\" },\n  { name: \"experimentalDecorators\", type: \"boolean\" },\n  { name: \"emitDecoratorMetadata\", type: \"boolean\" },\n  { name: \"jsxFactory\", type: \"string\" },\n  { name: \"jsxFragmentFactory\", type: \"string\" },\n  { name: \"jsxImportSource\", type: \"string\" },\n  { name: \"resolveJsonModule\", type: \"boolean\" },\n  { name: \"allowArbitraryExtensions\", type: \"boolean\" },\n  { name: \"out\", type: \"string\" },\n  { name: \"reactNamespace\", type: \"string\" },\n  { name: \"skipDefaultLibCheck\", type: \"boolean\" },\n  { name: \"charset\", type: \"string\" },\n  { name: \"emitBOM\", type: \"boolean\" },\n  { name: \"newLine\", type: { crlf: 0, lf: 1 } },\n  { name: \"noErrorTruncation\", type: \"boolean\" },\n  { name: \"noLib\", type: \"boolean\" },\n  { name: \"noResolve\", type: \"boolean\" },\n  { name: \"stripInternal\", type: \"boolean\" },\n  { name: \"disableSizeLimit\", type: \"boolean\" },\n  { name: \"disableSourceOfProjectReferenceRedirect\", type: \"boolean\" },\n  { name: \"disableSolutionSearching\", type: \"boolean\" },\n  { name: \"disableReferencedProjectLoad\", type: \"boolean\" },\n  { name: \"noImplicitUseStrict\", type: \"boolean\" },\n  { name: \"noEmitHelpers\", type: \"boolean\" },\n  { name: \"noEmitOnError\", type: \"boolean\" },\n  { name: \"preserveConstEnums\", type: \"boolean\" },\n  { name: \"declarationDir\", type: \"string\" },\n  { name: \"skipLibCheck\", type: \"boolean\" },\n  { name: \"allowUnusedLabels\", type: \"boolean\" },\n  { name: \"allowUnreachableCode\", type: \"boolean\" },\n  { name: \"suppressExcessPropertyErrors\", type: \"boolean\" },\n  { name: \"suppressImplicitAnyIndexErrors\", type: \"boolean\" },\n  { name: \"forceConsistentCasingInFileNames\", type: \"boolean\" },\n  { name: \"maxNodeModuleJsDepth\", type: \"number\" },\n  { name: \"noStrictGenericChecks\", type: \"boolean\" },\n  { name: \"useDefineForClassFields\", type: \"boolean\" },\n  { name: \"preserveValueImports\", type: \"boolean\" },\n  { name: \"keyofStringsOnly\", type: \"boolean\" },\n  { name: \"plugins\", type: \"list\" },\n  { name: \"moduleDetection\", type: { auto: 2, legacy: 1, force: 3 } },\n  { name: \"ignoreDeprecations\", type: \"string\" },\n];\n","import {\n  deepAssign,\n  endsWith,\n  entries,\n  isDef,\n  isPlainObject,\n  keys,\n} from \"@vuepress/helper\";\nimport type { CompilerOptions } from \"typescript\";\n\nimport { compressToEncodedURIComponent } from \"./ventors/lzstring.js\";\nimport { optionDeclarations } from \"./ventors/optionDeclarations.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  TSPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\nimport { logger } from \"../../utils.js\";\n\n/** Gets a query string representation (hash + queries) */\nexport const getURL = (\n  code: string,\n  compilerOptions: CompilerOptions = {},\n): string => {\n  const hash = `#code/${compressToEncodedURIComponent(code)}`;\n\n  const queryString = entries(compilerOptions)\n    .map(([key, value]) => {\n      const item = optionDeclarations.find((option) => option.name === key)!;\n\n      if (!item || value === null || !isDef(value)) return \"\";\n\n      const { type } = item;\n\n      if (isPlainObject(type)) {\n        const result = type[value as keyof typeof type];\n\n        return result?.toString() ?? \"\";\n      }\n\n      return `${key}=${encodeURIComponent(value as string)}`;\n    })\n    .filter((value) => value.length)\n    .join(\"&\");\n\n  return `${queryString ? `?${queryString}` : \"\"}${hash}`;\n};\n\nexport const getTSPlaygroundPreset = ({\n  service = \"https://www.typescriptlang.org/play\",\n  ...compilerOptions\n}: TSPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#ts\",\n  propsGetter: ({\n    title = \"\",\n    files,\n    settings,\n  }: PlaygroundData): Record<string, string> => {\n    const tsFiles = keys(files).filter((key) => endsWith(key, \".ts\"));\n\n    if (tsFiles.length !== 1)\n      logger.error(\"TS playground only support 1 ts file\");\n\n    const link = `${service}${getURL(\n      files[tsFiles[0]].content,\n      deepAssign(\n        {},\n        (settings as CompilerOptions) || {},\n        compilerOptions as CompilerOptions,\n      ),\n    )}`;\n\n    return {\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { deepAssign, entries, fromEntries } from \"@vuepress/helper\";\n\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  VuePresetPlaygroundOptions,\n} from \"../../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst DEFAULT_VUE_CDN = \"https://sfc.vuejs.org/vue.runtime.esm-browser.js\";\nconst DEFAULT_VUE_SERVER_RENDERER_CDN =\n  \"https://sfc.vuejs.org/server-renderer.esm-browser.js\";\n\nexport const getVuePlaygroundPreset = (\n  options: VuePresetPlaygroundOptions = {},\n): PlaygroundOptions => ({\n  name: \"playground#vue\",\n  propsGetter: (playgroundData: PlaygroundData): Record<string, string> => {\n    const { title = \"\", files, settings: localSettings } = playgroundData;\n    const settings = {\n      // Defaults\n      service: \"https://sfc.vuejs.org/\",\n      dev: false,\n      ssr: false,\n      ...options,\n      ...localSettings,\n    };\n\n    const fileInfo = fromEntries(\n      entries(files)\n        .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n        .map(([key, { content }]) => {\n          if (key === \"import-map.json\") {\n            const importMap = JSON.parse(content) as {\n              imports: Record<string, string>;\n              scopes?: Record<string, Record<string, string>>;\n            };\n\n            return [\n              key,\n              JSON.stringify(\n                deepAssign(\n                  {\n                    imports: {\n                      // Insure vue exists\n                      vue: DEFAULT_VUE_CDN,\n                      // Insure vue/server-renderer exists\n                      ...(settings.ssr\n                        ? {\n                            // eslint-disable-next-line @typescript-eslint/naming-convention\n                            \"vue/server-renderer\":\n                              DEFAULT_VUE_SERVER_RENDERER_CDN,\n                          }\n                        : {}),\n                    },\n                  },\n                  importMap,\n                ),\n                null,\n                2,\n              ),\n            ];\n          }\n\n          return [key, content];\n        }),\n    );\n\n    if (settings.ssr && !fileInfo[\"import-map.json\"])\n      fileInfo[\"import-map.json\"] = JSON.stringify(\n        {\n          imports: {\n            vue: DEFAULT_VUE_CDN,\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            \"vue/server-renderer\": DEFAULT_VUE_SERVER_RENDERER_CDN,\n          },\n        },\n        null,\n        2,\n      );\n\n    return {\n      title,\n      link: encodeURIComponent(\n        `${settings.service}#${\n          // Dev flag\n          settings.dev ? \"__DEV__\" : \"\"\n        }${\n          // Ssr flag\n          settings.ssr ? \"__SSR__\" : \"\"\n        }${\n          // Code base64\n          Buffer.from(JSON.stringify(fileInfo)).toString(\"base64\")\n        }`,\n      ),\n    };\n  },\n});\n","import { endsWith, keys } from \"@vuepress/helper\";\n\nimport { compressToEncodedURIComponent as encode } from \"./ventors/lzstring.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  UnoPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\nimport { logger } from \"../../utils.js\";\n\n/** Gets a query string representation (hash + queries) */\nconst getUrlJoinParam = (key: string, value: string, sign = \"&\"): string => {\n  if (value) return `${sign}${key}=${encode(value)}`;\n\n  return \"\";\n};\n\nexport const generateUnoURL = (\n  service: string,\n  inputHTML: string,\n  customCSS: string,\n  customConfigRaw: string,\n): string => {\n  const params = `/${getUrlJoinParam(\"html\", inputHTML, \"?\")}${getUrlJoinParam(\n    \"config\",\n    customConfigRaw,\n  )}${getUrlJoinParam(\"css\", customCSS)}`;\n\n  return `${service}${params}`;\n};\n\nexport const getUnoPlaygroundPreset = ({\n  service = \"https://unocss.dev/play\",\n}: UnoPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#unocss\",\n  propsGetter: ({\n    title = \"\",\n    files,\n  }: PlaygroundData): Record<string, string> => {\n    const htmlFiles = keys(files).filter((key) => endsWith(key, \".html\"));\n    const cssFiles = keys(files).filter((key) => endsWith(key, \".css\"));\n    const configFiles = keys(files).filter(\n      (key) => endsWith(key, \".js\") || endsWith(key, \".ts\"),\n    );\n\n    if (htmlFiles.length > 1 || cssFiles.length > 1 || configFiles.length > 1)\n      logger.error(\"UnoCSS playground only support 1 html/css/config file\");\n\n    const simplifyParam = (inputFiles: string[]): string =>\n      inputFiles.length === 1 ? files[inputFiles[0]].content : \"\";\n\n    const link = generateUnoURL(\n      service,\n      simplifyParam(htmlFiles),\n      simplifyParam(cssFiles),\n      simplifyParam(configFiles),\n    );\n\n    return {\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { encodeData, entries } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { playground } from \"./playground/index.js\";\nimport type { PlaygroundData } from \"../typings/index.js\";\n\nexport const kotlinPlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"kotlin-playground\",\n    component: \"KotlinPlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings || {})),\n      files: encodeData(\n        JSON.stringify(entries(files).map(([, { content }]) => content)),\n      ),\n    }),\n  });\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nconst markmapRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `markmap-${index}`;\n  const { content } = token;\n\n  return `<MarkMap id=\"${key}\" content=\"${encodeData(content)}\"></MarkMap>`;\n};\n\nexport const markmap: PluginSimple = (md) => {\n  // Handle ```markmap blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const [realInfo] = info.split(\":\", 2);\n\n    if (realInfo === \"markmap\") return markmapRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"markmap\"] = markmapRender;\n};\n","import { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RenderRule } from \"markdown-it/lib/renderer.mjs\";\n\nconst mermaidRenderer: RenderRule = (tokens, index) =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${encodeData(\n    tokens[index].content,\n  )}\"></Mermaid>`;\n\ninterface MermaidOptions {\n  content: string;\n  diagram?: string;\n  title?: string;\n}\n\nexport const getMermaidContent = ({\n  diagram = \"mermaid\",\n  content,\n  title = \"\",\n}: MermaidOptions): string => `\\\n${\n  title\n    ? `\\\n---\ntitle: ${title}\n---\n\n`\n    : \"\"\n}\\\n${\n  diagram === \"mermaid\"\n    ? \"\"\n    : `\\\n${diagram}\n`\n}\\\n${\n  diagram === \"mermaid\" || diagram === \"sankey-beta\"\n    ? content\n    : content\n        .split(\"\\n\")\n        .map((line) => (line ? `  ${line}` : \"\"))\n        .join(\"\\n\")\n}\\\n`;\n\nconst getMermaid = (options: MermaidOptions, index: number): string =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${encodeData(getMermaidContent(options))}\"${\n    options.title ? ` title=\"${encodeData(options.title)}\"` : \"\"\n  }></Mermaid>`;\n\nconst DIAGRAM_MAP: Record<string, string> = {\n  block: \"block-beta\",\n  class: \"classDiagram\",\n  c4c: \"C4Context\",\n  er: \"erDiagram\",\n  gantt: \"gantt\",\n  \"git-graph\": \"gitGraph\",\n  journey: \"journey\",\n  mindmap: \"mindmap\",\n  pie: \"pie\",\n  quadrant: \"quadrantChart\",\n  requirement: \"requirementDiagram\",\n  sankey: \"sankey-beta\",\n  sequence: \"sequenceDiagram\",\n  state: \"stateDiagram-v2\",\n  timeline: \"timeline\",\n  xy: \"xychart-beta\",\n};\n\nexport const mermaid: PluginSimple = (md) => {\n  // Handle ```mermaid blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { content, info } = tokens[index];\n\n    const fenceInfo = info.trim();\n\n    if (fenceInfo === \"mermaid\") return getMermaid({ content }, index);\n\n    const [name, ...rest] = fenceInfo.split(\" \");\n\n    if (DIAGRAM_MAP[name])\n      return getMermaid(\n        { diagram: DIAGRAM_MAP[name], title: rest.join(\" \"), content },\n        index,\n      );\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"mermaid\"] = mermaidRenderer;\n};\n","import type { MarkdownItPlantumlOptions } from \"@mdit/plugin-plantuml\";\nimport { plantuml as _plantuml } from \"@mdit/plugin-plantuml\";\nimport type { PluginWithOptions } from \"markdown-it\";\n\nexport const plantuml: PluginWithOptions<MarkdownItPlantumlOptions[]> = (\n  md,\n  options = [\n    \"chronology\",\n    \"gantt\",\n    \"json\",\n    \"latex\",\n    \"math\",\n    \"mindmap\",\n    \"regex\",\n    \"salt\",\n    \"uml\",\n    \"wbs\",\n    \"yaml\",\n  ].map((name) => ({ name })),\n) => {\n  options.forEach((option) => {\n    md.use(_plantuml, option);\n  });\n};\n","import { uml } from \"@mdit/plugin-uml\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const revealJs: PluginSimple = (md) => {\n  md.use(uml, {\n    name: \"revealjs\",\n    open: \"slidestart\",\n    close: \"slideend\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const key = `revealjs-${index}`;\n      const { content, info } = token;\n\n      return `<RevealJs id=\"${key}\" code=\"${encodeData(content)}\" theme=\"${\n        info.trim() || \"auto\"\n      }\"></RevealJs>`;\n    },\n  });\n};\n","import { tab } from \"@mdit/plugin-tab\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { stringifyProp } from \"./utils.js\";\n\nexport const tabs: PluginSimple = (md) => {\n  tab(md, {\n    name: \"tabs\",\n\n    tabsOpenRenderer: ({ active, data }, tokens, index) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { meta } = tokens[index];\n      const titles = data.map(({ title }) => md.renderInline(title));\n      const tabsData = data.map((item, index) => {\n        const { id = titles[index] } = item;\n\n        return { id };\n      });\n\n      return `\\\n<Tabs id=\"${index}\" :data='${stringifyProp(tabsData)}'${\n        active === -1 ? \"\" : ` :active=\"${active}\"`\n      }${\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n      }>\n${titles\n  .map(\n    (title, index) => `\\\n<template #title${index}=\"{ value, isActive }\">${title}</template>\n`,\n  )\n  .join(\"\")}\\\n`;\n    },\n\n    tabsCloseRenderer: () => `\\\n</Tabs>\n`,\n\n    tabOpenRenderer: ({ index }) =>\n      `\\\n<template #tab${index}=\"{ value, isActive }\">\n`,\n\n    tabCloseRenderer: () => `\\\n</template>\n`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const vPre: PluginSimple = (md) => {\n  container(md, {\n    name: \"v-pre\",\n    openRender: () => `<div v-pre>\\n`,\n    closeRender: () => \"</div>\\n\",\n  });\n};\n","import { entries, fromEntries } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\n\nimport { playground } from \"./playground/index.js\";\nimport type { PlaygroundData } from \"../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst encodeFiles = (files: PlaygroundData[\"files\"]): string =>\n  Buffer.from(\n    JSON.stringify(\n      fromEntries(\n        entries(files)\n          .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n          .map(([key, { content }]) => [key, content]),\n      ),\n    ),\n  ).toString(\"base64\");\n\nexport const vuePlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"vue-playground\",\n    component: \"VuePlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings || {})),\n      files: encodeURIComponent(encodeFiles(files)),\n    }),\n  });\n};\n","import { entries, fromEntries } from \"@vuepress/helper\";\n\nimport type { SandpackData } from \"../../typings/index.js\";\n\nexport const encodeFiles = (files: SandpackData[\"files\"]): string =>\n  JSON.stringify(\n    fromEntries(\n      entries(files).map(([key, file]) => [\n        key,\n        typeof file === \"string\"\n          ? file\n          : file.active || file.hidden || file.readOnly\n            ? file\n            : file.code,\n      ]),\n    ),\n  );\n\nexport const getAttrs = (str: string): Record<string, string> => {\n  const matches = /.*(?<!\\\\)\\[([^}]*)\\].*/.exec(str); // [attr1 attr2]\n\n  if (matches?.[1]) {\n    const arrAttrs = matches[1].split(\" \");\n\n    return fromEntries(\n      arrAttrs\n        .filter((attr) => attr.trim().length > 0)\n        .map((attr) => {\n          const [key, value = \"\"] = attr.trim().split(\"=\", 2);\n\n          return [key, value];\n        }),\n    );\n  }\n\n  return {};\n};\n","import { encodeData, entries, keys } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.mjs\";\nimport type {\n  SandpackFile,\n  SandpackOptions,\n  SandpackPredefinedTemplate,\n  SandpackSetup,\n} from \"sandpack-vue3\";\n\nimport { encodeFiles, getAttrs } from \"./utils.js\";\nimport type { SandpackData } from \"../../typings/index.js\";\nimport { escapeHtml } from \"../utils.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"options\", \"setup\"] as const;\n\nconst propsGetter = (sandpackData: SandpackData): Record<string, string> => ({\n  title: sandpackData.title ?? \"\",\n  template: sandpackData.template ?? \"\",\n  files: encodeData(encodeFiles(sandpackData.files ?? {})),\n  options: encodeData(JSON.stringify(sandpackData.options ?? {})),\n  customSetup: encodeData(JSON.stringify(sandpackData.customSetup ?? {})),\n});\n\nconst jsRunner = (jsCode: string): unknown =>\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  new Function(`return ${jsCode};`)();\n\nconst getSandpackRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-containers\n     */\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const content = params.trim();\n    const firstSpace = content.indexOf(\" \");\n    let containerName = \"\";\n    let title = \"\";\n\n    if (firstSpace > 0) {\n      containerName = content.substring(0, firstSpace);\n      // Remove attrs\n      title = content\n        .substring(firstSpace + 1)\n        .replace(/(?<!\\\\)\\[([^}]*)\\]/g, \"\");\n    } else {\n      containerName = content;\n    }\n\n    // If (containerName !== name) return false;\n    if (!containerName.includes(name)) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n\n        state.src[start] === \":\" &&\n        // Closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // Check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // Closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // Make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // Found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: name is an unknown type to markdown-it\n    state.parentType = name;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.content = content;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0),\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      /*\n       * Unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * Non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // Match start\n        state.src[start] === AT_MARKER &&\n        // Marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // Found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error: unknown type to markdown-it\n    state.parentType = markerName;\n\n    // This will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nexport const sandpack: PluginSimple = (md) => {\n  md.block.ruler.before(\"fence\", \"sandpack\", getSandpackRule(\"sandpack\"), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // Note: Here we use an internal variable to make sure tab rule is not registered\n    // @ts-expect-error: __rules__ is a private property\n    // eslint-disable-next-line\n    if (!md.block.ruler.__rules__.find(({ name }) => name === `at-${marker}`))\n      md.block.ruler.before(\"fence\", `at-${marker}`, atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[\"sandpack_open\"] = (tokens, index): string => {\n    const { content, info } = tokens[index];\n\n    const attrs = getAttrs(content);\n\n    const sandpackData: SandpackData = {\n      title: encodeURIComponent(info),\n      files: {},\n      options: {},\n      customSetup: {},\n    };\n\n    const containerName = content.split(\" \", 2)[0].trim();\n    const arr = containerName.split(\"#\");\n\n    if (arr.length > 1)\n      sandpackData.template = arr[1] as SandpackPredefinedTemplate;\n\n    let currentKey: string | null = null;\n    let foundOptions = false;\n    let foundSetup = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === \"sandpack_close\") break;\n        if (type === \"sandpack_open\") continue;\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info.trim().split(\" \")[0];\n\n          const fileAttrs = getAttrs(info);\n\n          sandpackData.files[currentKey] = {\n            code: \"\",\n            active: \"active\" in fileAttrs,\n            hidden: \"hidden\" in fileAttrs,\n            readOnly: \"readOnly\" in fileAttrs,\n          };\n        } else if (\n          type === \"file_close\" ||\n          type === \"setup_open\" ||\n          type === \"options_open\"\n        ) {\n          currentKey = null;\n        }\n\n        if (type === \"setup_open\") foundSetup = true;\n        else if (type === \"setup_close\") foundSetup = false;\n        else if (type === \"options_open\") foundOptions = true;\n        else if (type === \"options_close\") foundOptions = false;\n\n        if (\n          type === \"file_close\" ||\n          type === \"setup_close\" ||\n          type === \"options_close\" ||\n          !content\n        ) {\n          tokens[i].type = \"sandpack_empty\";\n          tokens[i].hidden = true;\n          continue;\n        }\n\n        // Parse options\n        if (foundOptions) {\n          if (type === \"fence\" && (info === \"js\" || info === \"javascript\"))\n            sandpackData.options = jsRunner(content.trim()) as SandpackOptions;\n\n          foundOptions = false;\n        }\n\n        // Parse setup\n        if (foundSetup) {\n          if (type === \"fence\" && (info === \"js\" || info === \"javascript\"))\n            sandpackData.customSetup = jsRunner(\n              content.trim(),\n            ) as SandpackSetup;\n\n          foundSetup = false;\n        }\n\n        // Add code block content\n        if (type === \"fence\" && currentKey)\n          (sandpackData.files[currentKey] as SandpackFile).code = content;\n\n        tokens[i].type = \"sandpack_empty\";\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(sandpackData);\n\n    return `<SandPack ${\n      keys(attrs).length\n        ? `${entries(attrs)\n            .map(([attr, value]) =>\n              value ? `${attr}=\"${escapeHtml(value)}\"` : attr,\n            )\n            .join(\" \")} `\n        : \"\"\n    }${entries(props)\n      .map(([attr, value]) => (value ? `${attr}=\"${escapeHtml(value)}\"` : null))\n      .filter(Boolean)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[\"sandpack_close\"] = (): string => `</SandPack>\\n`;\n};\n","import { container } from \"@mdit/plugin-container\";\nimport {\n  entries,\n  fromEntries,\n  isPlainObject,\n  isString,\n} from \"@vuepress/helper\";\nimport { load } from \"js-yaml\";\nimport type { Options, PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\n\nimport { stringifyProp } from \"../markdown-it/utils.js\";\nimport { logger } from \"../utils.js\";\n\nexport interface CardOptions {\n  title: string;\n  desc?: string;\n  logo?: string;\n  link?: string;\n  color?: string;\n}\n\nconst CARD_PROPS = [\"title\", \"desc\", \"logo\", \"link\", \"color\"];\n\nconst checkCardProps = (config: unknown): CardOptions | null => {\n  if (isPlainObject(config) && isString(config[\"title\"]))\n    return fromEntries(\n      entries(config).filter(\n        (item): item is [string, string] =>\n          CARD_PROPS.includes(item[0]) && isString(item[1]),\n      ),\n    ) as unknown as CardOptions;\n\n  return null;\n};\n\nconst cardRender = (\n  tokens: Token[],\n  index: number,\n  _options: Options,\n  { filePathRelative }: MarkdownEnv,\n): string => {\n  const token = tokens[index];\n  const { content } = token;\n\n  let config: unknown = null;\n\n  if (content.trim().startsWith(\"{\"))\n    try {\n      config = JSON.parse(content) as unknown;\n    } catch (err) {\n      // Do nothing\n      logger.error(`Parsing card as JSON config failed:`, err);\n    }\n  else\n    try {\n      config = load(content);\n    } catch (err) {\n      logger.error(`Parsing card as YAML config failed:`, err);\n    }\n\n  const cardData = checkCardProps(config);\n\n  if (cardData) return `<VPCard v-bind='${stringifyProp(cardData)}' />`;\n\n  logger.error(\n    `Invalid card config${\n      filePathRelative ? ` found in ${filePathRelative}` : \"\"\n    }:\n${content}\n`,\n  );\n\n  return \"\";\n};\n\n/** @deprecated */\nexport const legacyCard: PluginSimple = (md) => {\n  // Add card container\n  md.use(container, {\n    name: \"card\",\n    openRender: () =>\n      `\\\n<div class=\"vp-card-container\">\n`,\n  });\n\n  // Handle ```card  blocks\n  const { fence } = md.renderer.rules;\n\n  md.renderer.rules.fence = (...args): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const [tokens, index, options, env] = args;\n    const { info } = tokens[index];\n\n    if (info === \"card\")\n      return cardRender(tokens, index, options, env as MarkdownEnv);\n\n    const [realInfo] = info.split(\":\", 2);\n\n    if (realInfo === \"card\") {\n      logger.warn(\n        \"Language declaration for card is deprecated, please remove them.\",\n      );\n\n      return cardRender(tokens, index, options, env as MarkdownEnv);\n    }\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"card\"] = cardRender;\n};\n","import { isArray, isPlainObject } from \"@vuepress/helper\";\nimport { colors } from \"vuepress/utils\";\nimport { createConverter } from \"vuepress-shared/node\";\n\nimport type { MarkdownEnhancePluginOptions } from \"../options.js\";\nimport type { RevealJsPlugin } from \"../typings/index.js\";\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const convertOptions = (\n  options: MarkdownEnhancePluginOptions & Record<string, unknown>,\n): void => {\n  const { deprecatedLogger, droppedLogger } = createConverter(\"md-enhance\");\n\n  deprecatedLogger({\n    options,\n    old: \"container\",\n    new: \"hint\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"codegroup\",\n    new: \"codetabs\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"lazyload\",\n    new: \"imgLazyload\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"imageLazyload\",\n    new: \"imgLazyload\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"imageMark\",\n    new: \"imgMark\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"imageSize\",\n    new: \"imgSize\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"mdImport\",\n    new: \"include\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"tex\",\n    new: \"katex\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"vpre\",\n    new: \"vPre\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"imageTitle\",\n    new: \"figure\",\n  });\n  deprecatedLogger({\n    options,\n    old: \"revealjs\",\n    new: \"revealJs\",\n  });\n  droppedLogger({\n    options,\n    old: \"enableAll\",\n    msg: \"Please manually enable the features you need.\",\n  });\n  droppedLogger({\n    options,\n    old: \"lineNumbers\",\n    msg: \"Please use the built-in lineNumbers option of vuepress instead!\",\n  });\n  droppedLogger({\n    options,\n    old: \"imageFix\",\n    msg: \"This option is no longer needed.\",\n  });\n  droppedLogger({\n    options,\n    old: \"linkCheck\",\n    msg: \"Please use @vuepress/plugin-links-check instead.\",\n  });\n  droppedLogger({\n    options,\n    old: \"checkLinks\",\n    msg: \"Please use @vuepress/plugin-links-check instead.\",\n  });\n\n  if (options[\"card\"])\n    logger.error(\n      `${colors.magenta(\"card\")} is deprecated, please import  ${colors.magenta(\n        \"VPCard\",\n      )} from \"vuepress-plugin-components\" and use it instead.`,\n    );\n\n  if (isPlainObject(options.mermaid)) {\n    logger.error(\n      `Customizing mermaid with option ${colors.magenta(\n        \"mermaid\",\n      )} is no longer supported, please import and use ${colors.magenta(\n        \"defineMermaidConfig\",\n      )} from ${colors.magenta(\"vuepress-plugin-md-enhance/client\")} instead.`,\n    );\n    options.mermaid = true;\n  }\n\n  if (options[\"presentation\"]) {\n    logger.error(\n      `${colors.magenta(\n        \"presentation\",\n      )} is no longer supported, please use ${colors.magenta(\n        \"revealJs\",\n      )} instead.`,\n    );\n\n    if (isPlainObject(options[\"presentation\"])) {\n      if (\"plugins\" in options[\"presentation\"])\n        options.revealJs = {\n          plugins: options[\"presentation\"][\"plugins\"] as RevealJsPlugin[],\n        };\n      else options.revealJs = true;\n\n      if (\"revealConfig\" in options[\"presentation\"])\n        logger.error(\n          `Customizing revealJs with option ${colors.magenta(\n            \"presentation.revealConfig\",\n          )} is no longer supported, please import and use ${colors.magenta(\n            \"defineRevealJsConfig\",\n          )} from ${colors.magenta(\n            \"vuepress-plugin-md-enhance/client\",\n          )} instead.`,\n        );\n    } else if (isArray(options[\"presentation\"])) {\n      options.revealJs = {\n        plugins: options[\"presentation\"] as RevealJsPlugin[],\n      };\n    }\n\n    delete options[\"presentation\"];\n  }\n\n  if (isPlainObject(options.vuePlayground)) {\n    logger.error(\n      `Customizing @vue/repl with option ${colors.magenta(\n        \"vuePlayground\",\n      )} is no longer supported, please import and use ${colors.magenta(\n        \"defineVuePlaygroundConfig\",\n      )} from ${colors.magenta(\"vuepress-plugin-md-enhance/client\")} instead.`,\n    );\n    options.vuePlayground = true;\n  }\n};\n","import { container } from \"@mdit/plugin-container\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.mjs\";\n\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const legacyCodeDemo: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"demo\",\n    openRender: (tokens: Token[], index: number): string => {\n      logger.warn(\n        \"demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.\",\n      );\n\n      const { info } = tokens[index];\n      const type = /\\[(.*)\\]/u.exec(info);\n      const title = /^ demo\\s*(?:\\[.*?\\])?\\s*(.*)\\s*$/u.exec(info);\n\n      let config = \"\";\n      const code: Record<string, string> = {};\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n        const language = info\n          ? md.utils\n              .unescapeAll(info)\n              .trim()\n              .match(/^([^ :[{]+)/)?.[1] ?? \"text\"\n          : \"\";\n\n        if (type === `container_demo_close`) break;\n        if (!content) continue;\n        if (type === \"fence\")\n          if (language === \"json\") config = encodeData(content);\n          else code[language] = content;\n      }\n\n      return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${type?.[1] ?? \"normal\"}\"${\n        title ? ` title=\"${encodeURIComponent(title[1])}\"` : \"\"\n      }${config ? ` config=\"${config}\"` : \"\"} code=\"${encodeData(\n        JSON.stringify(code),\n      )}\">\n`;\n    },\n    closeRender: () => `</CodeDemo>`,\n  });\n};\n","import { container } from \"@mdit/plugin-container\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\n\nimport { logger } from \"../utils.js\";\n\n/** @deprecated */\nexport const legacyCodeGroup: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"code-group\",\n    openRender: (_tokens, _index, _options, env: MarkdownEnv) => {\n      logger.warn(\n        `Deprecated code-group syntax found${\n          env.filePathRelative ? `in ${env.filePathRelative}` : \"\"\n        }, you should use code tabs instead. See https://plugin-md-enhance.vuejs.press/guide/code-tabs.html`,\n      );\n\n      return `<CodeGroup>\\n`;\n    },\n    closeRender: () => \"</CodeGroup>\\n\",\n  });\n\n  md.use(container, {\n    name: \"code-group-item\",\n    openRender: (tokens, index) => {\n      const { info } = tokens[index];\n      const isActive = info.split(\":\").pop() === \"active\";\n\n      return `<CodeGroupItem title=\"${\n        isActive ? info.replace(/:active$/, \"\") : info\n      }\"${isActive ? \" active\" : \"\"}>\\n`;\n    },\n    closeRender: () => \"</CodeGroupItem>\\n\",\n  });\n};\n","import type {\n  IncludeEnv,\n  MarkdownItIncludeOptions,\n} from \"@mdit/plugin-include\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.mjs\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\nimport { fs, path } from \"vuepress/utils\";\n\nimport { NEWLINES_RE } from \"../markdown-it/utils.js\";\nimport { logger } from \"../utils.js\";\n\ninterface ImportFileLineInfo {\n  filePath: string;\n  lineStart: number;\n  lineEnd: number | undefined;\n}\n\ninterface ImportFileRegionInfo {\n  filePath: string;\n  region: string;\n}\n\ntype ImportFileInfo = ImportFileLineInfo | ImportFileRegionInfo;\n\ninterface IncludeInfo {\n  cwd: string | null;\n  includedFiles: string[];\n  resolvedPath?: boolean;\n  currentPath?: string;\n}\n\nconst REGIONS_RE = [\n  /^\\/\\/ ?#?((?:end)?region) ([\\w*-]+)$/u, // Javascript, Typescript, Java\n  /^\\/\\* ?#((?:end)?region) ([\\w*-]+) ?\\*\\/$/u, // CSS, Less, Scss\n  /^#pragma ((?:end)?region) ([\\w*-]+)$/u, // C, C++\n  /^<!-- #?((?:end)?region) ([\\w*-]+) -->$/u, // HTML, markdown\n  /^#((?:End )Region) ([\\w*-]+)$/u, // Visual Basic\n  /^::#((?:end)region) ([\\w*-]+)$/u, // Bat\n  /^# ?((?:end)?region) ([\\w*-]+)$/u, // C#, PHP, Powershell, Python, perl & misc\n];\n\n// Regexp to match the import syntax\nconst INCLUDE_RE =\n  /^@include\\(([^)]+(?:\\.[a-z0-9]+))(?:#([\\w-]+))?(?:\\{(\\d+)?-(\\d+)?\\})?\\)$/u;\n\nconst dedent = (text: string): string => {\n  const lines = text.split(\"\\n\");\n\n  const minIndentLength = lines.reduce((acc, line) => {\n    for (let i = 0; i < line.length; i++)\n      if (line[i] !== \" \" && line[i] !== \"\\t\") return Math.min(i, acc);\n\n    return acc;\n  }, Infinity);\n\n  if (minIndentLength < Infinity)\n    return lines.map((x) => x.slice(minIndentLength)).join(\"\\n\");\n\n  return text;\n};\n\nconst testLine = (\n  line: string,\n  regexp: RegExp,\n  regionName: string,\n  end = false,\n): boolean => {\n  const [full, tag, name] = regexp.exec(line.trim()) ?? [];\n\n  return Boolean(\n    full &&\n      tag &&\n      name === regionName &&\n      tag.match(end ? /^[Ee]nd ?[rR]egion$/ : /^[rR]egion$/),\n  );\n};\n\nconst findRegion = (\n  lines: string[],\n  regionName: string,\n): { lineStart: number; lineEnd: number } | null => {\n  let regexp = null;\n  let lineStart = -1;\n\n  for (const [lineId, line] of lines.entries())\n    if (regexp === null) {\n      for (const reg of REGIONS_RE)\n        if (testLine(line, reg, regionName)) {\n          lineStart = lineId + 1;\n          regexp = reg;\n          break;\n        }\n    } else if (testLine(line, regexp, regionName, true)) {\n      return { lineStart, lineEnd: lineId };\n    }\n\n  return null;\n};\n\nexport const handleInclude = (\n  info: ImportFileInfo,\n  { cwd, includedFiles, resolvedPath }: IncludeInfo,\n): string => {\n  const { filePath } = info;\n  let realPath = filePath;\n\n  if (!path.isAbsolute(filePath)) {\n    /*\n     * If the importPath is relative path, we need to resolve it\n     * according to the markdown filePath\n     */\n    if (!cwd) {\n      logger.error(`[include]: Error when resolving path: ${filePath}`);\n\n      return \"\\nError when resolving path\\n\";\n    }\n\n    realPath = path.resolve(cwd, filePath);\n  }\n\n  includedFiles.push(realPath);\n\n  // Check file existence\n  if (!fs.existsSync(realPath)) {\n    logger.error(`Include: ${realPath} not found`);\n\n    return \"\\nFile not found\\n\";\n  }\n\n  // Read file content\n  const fileContent = fs.readFileSync(realPath).toString();\n\n  const lines = fileContent.replace(NEWLINES_RE, \"\\n\").split(\"\\n\");\n  let results: string[] = [];\n\n  if (\"region\" in info) {\n    const region = findRegion(lines, info.region);\n\n    if (region) results = lines.slice(region.lineStart, region.lineEnd);\n  } else {\n    const { lineStart, lineEnd } = info;\n\n    results = lines.slice(lineStart ? lineStart - 1 : lineStart, lineEnd);\n  }\n\n  if (resolvedPath && realPath.endsWith(\".md\")) {\n    const dirName = path.dirname(realPath);\n\n    results.unshift(`@include-push(${dirName})`);\n    results.push(\"@include-pop()\");\n  }\n\n  return dedent(results.join(\"\\n\").replace(/\\n?$/u, \"\\n\"));\n};\n\nexport const resolveInclude = (\n  content: string,\n  options: Required<Omit<MarkdownItIncludeOptions, \"useComment\">>,\n  { currentPath, cwd, includedFiles }: IncludeInfo,\n): string =>\n  content\n    .split(\"\\n\")\n    .map((line) => {\n      if (line.startsWith(\"@include\")) {\n        // Check if it’s matched the syntax\n        const result = line.match(INCLUDE_RE);\n\n        if (result) {\n          logger.warn(\n            `\"@include(file)\" is deprecated, you should use \"<!-- @include: file -->\" instead.${\n              currentPath ? `\\n Found in ${currentPath}.` : \"\"\n            }`,\n          );\n\n          const [, includePath, region, lineStart, lineEnd] = result;\n          const actualPath = options.resolvePath(includePath, cwd);\n          const resolvedPath =\n            options.resolveImagePath || options.resolveLinkPath;\n\n          const content = handleInclude(\n            {\n              filePath: actualPath,\n              ...(region\n                ? { region }\n                : {\n                    lineStart: lineStart ? Number(lineStart) : 0,\n                    lineEnd: lineEnd ? Number(lineEnd) : undefined,\n                  }),\n            },\n            { cwd, includedFiles, resolvedPath },\n          );\n\n          return options.deep && actualPath.endsWith(\".md\")\n            ? resolveInclude(content, options, {\n                cwd: path.isAbsolute(actualPath)\n                  ? path.dirname(actualPath)\n                  : cwd\n                    ? path.resolve(cwd, path.dirname(actualPath))\n                    : null,\n                currentPath: currentPath ?? \"\",\n                includedFiles,\n              })\n            : content;\n        }\n      }\n\n      return line;\n    })\n    .join(\"\\n\");\n\nexport const createIncludeCoreRule =\n  (options: Required<Omit<MarkdownItIncludeOptions, \"useComment\">>): RuleCore =>\n  (state): void => {\n    const env = state.env as IncludeEnv & MarkdownEnv;\n    const includedFiles = (env.includedFiles ||= []);\n    const currentPath = options.currentPath(env);\n\n    state.src = resolveInclude(state.src, options, {\n      cwd: currentPath ? path.dirname(currentPath) : null,\n      currentPath,\n      includedFiles,\n    });\n  };\n\n/** @deprecated */\nexport const legacyInclude: PluginWithOptions<MarkdownItIncludeOptions> = (\n  md,\n  options,\n): void => {\n  if (!options || typeof options.currentPath !== \"function\") {\n    logger.error('[include]: \"currentPath\" is required');\n\n    return;\n  }\n\n  const {\n    currentPath,\n    resolvePath = (path: string): string => path,\n    deep = false,\n    resolveLinkPath = true,\n    resolveImagePath = true,\n  } = options;\n\n  // Add md_import core rule\n  md.core.ruler.after(\n    \"normalize\",\n    \"md_legacy_import\",\n    createIncludeCoreRule({\n      currentPath,\n      resolvePath,\n      deep,\n      resolveLinkPath,\n      resolveImagePath,\n    }),\n  );\n};\n","import { uml } from \"@mdit/plugin-uml\";\nimport { encodeData } from \"@vuepress/helper\";\nimport type { PluginSimple } from \"markdown-it\";\nimport { logger } from \"vuepress/utils\";\n\n/** @deprecated */\nexport const legacyFlowchart: PluginSimple = (md) => {\n  uml(md, {\n    name: \"flowchart\",\n    open: \"flowstart\",\n    close: \"flowend\",\n    render: (tokens, index): string => {\n      logger.warn(\n        '\"@flowstart ... @flowend\" is deprecated, you should use ```flow ... ``` instead.',\n      );\n\n      const token = tokens[index];\n      const key = `flowchart-${index}`;\n      const { content, info } = token;\n\n      return `<FlowChart id=\"${key}\" code=\"${encodeData(content)}\" preset=\"${\n        info.trim() || \"vue\"\n      }\"></FlowChart>`;\n    },\n  });\n};\n","import { getRealPath, isPlainObject } from \"@vuepress/helper\";\nimport type { App } from \"vuepress/core\";\n\nimport type { MarkdownEnhancePluginOptions } from \"../options.js\";\nimport { CLIENT_FOLDER } from \"../utils.js\";\n\nconst { url } = import.meta;\n\nexport const prepareConfigFile = async (\n  app: App,\n  options: MarkdownEnhancePluginOptions,\n  status: Record<string, boolean>,\n  legacy = true,\n): Promise<string> => {\n  const imports = new Set<string>();\n  const enhances = new Set<string>();\n  const setups = new Set<string>();\n\n  // TODO: Remove this in v2 stable\n  // @ts-expect-error: card does not exist\n  if (options.card && legacy) {\n    imports.add(\n      `import { hasGlobalComponent } from \"${getRealPath(\n        \"@vuepress/helper/client\",\n        url,\n      )}\";`,\n    );\n    imports.add(`import { VPCard } from \"${CLIENT_FOLDER}compact/index.js\";`);\n    enhances.add(\n      `if(!hasGlobalComponent(\"VPCard\", app)) app.component(\"VPCard\", VPCard);`,\n    );\n  }\n\n  if (status[\"chart\"]) {\n    imports.add(`import ChartJS from \"${CLIENT_FOLDER}components/ChartJS.js\";`);\n    enhances.add(`app.component(\"ChartJS\", ChartJS)`);\n  }\n\n  if (options.codetabs) {\n    imports.add(\n      `import CodeTabs from \"${CLIENT_FOLDER}components/CodeTabs.js\";`,\n    );\n    enhances.add(`app.component(\"CodeTabs\", CodeTabs);`);\n\n    // TODO: Remove this in v2 stable\n    if (legacy) {\n      imports.add(\n        `import { hasGlobalComponent } from \"${getRealPath(\n          \"@vuepress/helper/client\",\n          url,\n        )}\";`,\n      );\n      imports.add(\n        `import { CodeGroup, CodeGroupItem } from \"${CLIENT_FOLDER}compact/index.js\";`,\n      );\n      enhances.add(\n        `if(!hasGlobalComponent(\"CodeGroup\", app)) app.component(\"CodeGroup\", CodeGroup);`,\n      );\n      enhances.add(\n        `if(!hasGlobalComponent(\"CodeGroupItem\", app)) app.component(\"CodeGroupItem\", CodeGroupItem);`,\n      );\n    }\n  }\n\n  if (options.demo) {\n    imports.add(\n      `import CodeDemo from \"${CLIENT_FOLDER}components/CodeDemo.js\";`,\n    );\n    imports.add(`import MdDemo from \"${CLIENT_FOLDER}components/MdDemo.js\";`);\n    enhances.add(`app.component(\"CodeDemo\", CodeDemo);`);\n    enhances.add(`app.component(\"MdDemo\", MdDemo);`);\n  }\n\n  if (status[\"echarts\"]) {\n    imports.add(`import ECharts from \"${CLIENT_FOLDER}components/ECharts.js\";`);\n    imports.add(\n      `import { injectEChartsConfig } from \"${CLIENT_FOLDER}/index.js\";`,\n    );\n    enhances.add(`app.component(\"ECharts\", ECharts);`);\n    enhances.add(`injectEChartsConfig(app);`);\n  }\n\n  if (options.figure)\n    imports.add(`import \"${CLIENT_FOLDER}styles/figure.scss\";`);\n\n  if (status[\"flowchart\"]) {\n    imports.add(\n      `import FlowChart from \"${CLIENT_FOLDER}components/FlowChart.js\";`,\n    );\n\n    enhances.add(`app.component(\"FlowChart\", FlowChart);`);\n  }\n\n  if (status[\"footnote\"])\n    imports.add(`import \"${CLIENT_FOLDER}styles/footnote.scss\";`);\n\n  if (options.hint) {\n    imports.add(\n      `import { useHintContainers } from \"${CLIENT_FOLDER}composables/useHintContainers.js\";`,\n    );\n    imports.add(`import \"${CLIENT_FOLDER}styles/hint/index.scss\";`);\n    setups.add(\"useHintContainers();\");\n  }\n\n  if (status[\"imgMark\"])\n    imports.add(`import \"${CLIENT_FOLDER}styles/image-mark.scss\"`);\n\n  if (status[\"katex\"]) {\n    imports.add(`import \"${getRealPath(\"katex/dist/katex.min.css\", url)}\";`);\n    imports.add(`import \"${CLIENT_FOLDER}styles/katex.scss\";`);\n\n    if (isPlainObject(options.katex) && options.katex.copy) {\n      imports.add(\n        `import { useKatexCopy } from \"${CLIENT_FOLDER}composables/useKatexCopy.js\";`,\n      );\n      setups.add(`useKatexCopy();`);\n    }\n  }\n\n  if (status[\"kotlinPlayground\"]) {\n    imports.add(\n      `import KotlinPlayground from \"${CLIENT_FOLDER}components/KotlinPlayground.js\";`,\n    );\n    imports.add(\n      `import { injectKotlinPlaygroundConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.add(`injectKotlinPlaygroundConfig(app);`);\n    enhances.add(`app.component(\"KotlinPlayground\", KotlinPlayground);`);\n  }\n\n  if (status[\"markmap\"]) {\n    imports.add(`import MarkMap from \"${CLIENT_FOLDER}components/MarkMap.js\";`);\n    enhances.add(`app.component(\"MarkMap\", MarkMap);`);\n  }\n\n  if (status[\"mathjax\"]) imports.add(`import \"./mathjax.css\";`);\n\n  if (status[\"mermaid\"]) {\n    imports.add(`import Mermaid from \"${CLIENT_FOLDER}components/Mermaid.js\";`);\n    imports.add(\n      `import { injectMermaidConfig } from \"${CLIENT_FOLDER}/index.js\";`,\n    );\n    enhances.add(`injectMermaidConfig(app);`);\n    enhances.add(`app.component(\"Mermaid\", Mermaid);`);\n  }\n\n  if (options.playground) {\n    imports.add(\n      `import Playground from \"${CLIENT_FOLDER}components/Playground.js\";`,\n    );\n    enhances.add(`app.component(\"Playground\", Playground);`);\n  }\n\n  if (status[\"revealJs\"]) {\n    imports.add(`import \"${getRealPath(\"reveal.js/dist/reveal.css\", url)}\";`);\n    imports.add(\n      `import RevealJs from \"${CLIENT_FOLDER}components/RevealJs.js\";`,\n    );\n    imports.add(\n      `import { injectRevealJsConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.add(`injectRevealJsConfig(app);`);\n    enhances.add(`app.component(\"RevealJs\", RevealJs);`);\n  }\n\n  if (options.tabs) {\n    imports.add(`import Tabs from \"${CLIENT_FOLDER}components/Tabs.js\";`);\n    enhances.add(`app.component(\"Tabs\", Tabs);`);\n  }\n\n  if (status[\"sandpack\"]) {\n    imports.add(`import { defineAsyncComponent } from \"vue\";`);\n    imports.add(\n      `import { LoadingIcon } from \"${getRealPath(\n        \"vuepress-shared/client\",\n        url,\n      )}\";`,\n    );\n    imports.add(\n      `import { injectSandpackConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.add(`injectSandpackConfig(app);`);\n    enhances.add(\n      `\\\napp.component(\n  \"SandPack\",\n  defineAsyncComponent({\n    loader: () => import(\"${CLIENT_FOLDER}components/SandPack.js\"),\n    loadingComponent: LoadingIcon,\n  })\n);`,\n    );\n  }\n\n  if (options.spoiler)\n    imports.add(`import \"${getRealPath(\"@mdit/plugin-spoiler/style\", url)}\";`);\n\n  if (status[\"tasklist\"])\n    imports.add(`import \"${CLIENT_FOLDER}styles/tasklist.scss\";`);\n\n  if (status[\"vuePlayground\"]) {\n    imports.add(\n      `import VuePlayground from \"${CLIENT_FOLDER}components/VuePlayground.js\";`,\n    );\n    imports.add(\n      `import { injectVuePlaygroundConfig } from \"${CLIENT_FOLDER}index.js\";`,\n    );\n    enhances.add(`injectVuePlaygroundConfig(app);`);\n    enhances.add(`app.component(\"VuePlayground\", VuePlayground);`);\n  }\n\n  return app.writeTemp(\n    `md-enhance/config.js`,\n    `\\\nimport { defineClientConfig } from \"vuepress/client\";\n${Array.from(imports.values()).join(\"\\n\")}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${Array.from(enhances.values())\n  .map((item) => `    ${item}`)\n  .join(\"\\n\")}\n  },\n  setup: () => {\n${Array.from(setups.values()).join(\"\\n\")}\n  }\n});\n`,\n  );\n};\n","import type { MathjaxInstance } from \"@mdit/plugin-mathjax-slim\";\nimport type { App } from \"vuepress/core\";\n\n// Prevent mathjax breaking mobile layout\nconst style = `\\\nmjx-container {\n  overflow-x: auto;\n}\n`;\n\nexport const prepareMathjaxStyle = async (\n  app: App,\n  mathjaxInstance: MathjaxInstance,\n): Promise<void> => {\n  await app.writeTemp(\n    \"md-enhance/mathjax.css\",\n    `${mathjaxInstance.outputStyle()}\\n${style}`,\n  );\n};\n","import { getRealPath } from \"@vuepress/helper\";\nimport type { App } from \"vuepress/core\";\n\nimport type { RevealJsPlugin, RevealJsTheme } from \"../typings/index.js\";\nimport { CLIENT_FOLDER } from \"../utils.js\";\n\nconst { url } = import.meta;\n\nconst AVAILABLE_THEMES = [\n  \"auto\",\n  \"beige\",\n  \"black\",\n  \"blood\",\n  \"league\",\n  \"moon\",\n  \"night\",\n  \"serif\",\n  \"simple\",\n  \"sky\",\n  \"solarized\",\n  \"white\",\n];\n\nexport const prepareRevealJsPluginFile = async (\n  app: App,\n  revealPlugins: RevealJsPlugin[] = [],\n): Promise<void> => {\n  await app.writeTemp(\n    \"md-enhance/revealjs-plugins.js\",\n    `\\\nexport const useRevealJs = () => [\n  import(/* webpackChunkName: \"reveal\" */ \"${getRealPath(\n    \"reveal.js/dist/reveal.esm.js\",\n    url,\n  )}\"),\n  import(/* webpackChunkName: \"reveal\" */ \"${getRealPath(\n    \"reveal.js/plugin/markdown/markdown.esm.js\",\n    url,\n  )}\"),\n  ${revealPlugins\n    .map(\n      (plugin) =>\n        `import(/* webpackChunkName: \"reveal\" */ \"${getRealPath(\n          `reveal.js/plugin/${plugin}/${plugin}.esm.js`,\n          url,\n        )}\")`,\n    )\n    .join(\",\\n\")}];\n`,\n  );\n};\n\nexport const prepareRevealJsStyleFile = async (\n  app: App,\n  revealThemes: RevealJsTheme[] = [\"auto\"],\n): Promise<void> => {\n  const styles = revealThemes.filter((item) => AVAILABLE_THEMES.includes(item));\n\n  await app.writeTemp(\n    \"md-enhance/revealjs-theme.scss\",\n    `\\\n${styles\n  .map((name) => `@use \"${CLIENT_FOLDER}styles/revealjs/theme/${name}.scss\";`)\n  .join(\"\\n\")}\n`,\n  );\n};\n","import { align } from \"@mdit/plugin-align\";\nimport { attrs } from \"@mdit/plugin-attrs\";\nimport { figure } from \"@mdit/plugin-figure\";\nimport { footnote } from \"@mdit/plugin-footnote\";\nimport { imgLazyload } from \"@mdit/plugin-img-lazyload\";\nimport { imgMark } from \"@mdit/plugin-img-mark\";\nimport { imgSize, obsidianImageSize } from \"@mdit/plugin-img-size\";\nimport type { IncludeEnv } from \"@mdit/plugin-include\";\nimport { include } from \"@mdit/plugin-include\";\nimport { katex } from \"@mdit/plugin-katex-slim\";\nimport { mark } from \"@mdit/plugin-mark\";\nimport { createMathjaxInstance, mathjax } from \"@mdit/plugin-mathjax-slim\";\nimport { spoiler } from \"@mdit/plugin-spoiler\";\nimport { stylize } from \"@mdit/plugin-stylize\";\nimport { sub } from \"@mdit/plugin-sub\";\nimport { sup } from \"@mdit/plugin-sup\";\nimport { tasklist } from \"@mdit/plugin-tasklist\";\nimport {\n  addCustomElement,\n  addViteOptimizeDepsExclude,\n  addViteOptimizeDepsInclude,\n  addViteOptimizeDepsNeedsInterop,\n  addViteSsrExternal,\n  addViteSsrNoExternal,\n  chainWebpack,\n  getLocaleConfig,\n  isArray,\n  isPlainObject,\n} from \"@vuepress/helper\";\nimport { useSassPalettePlugin } from \"@vuepress/plugin-sass-palette\";\nimport type { PluginFunction } from \"vuepress/core\";\nimport type { MarkdownEnv } from \"vuepress/markdown\";\nimport { colors, path } from \"vuepress/utils\";\n\nimport {\n  convertOptions,\n  legacyCard,\n  legacyCodeDemo,\n  legacyCodeGroup,\n  legacyFlowchart,\n  legacyInclude,\n} from \"./compact/index.js\";\nimport { markdownEnhanceLocales } from \"./locales.js\";\nimport {\n  CODE_DEMO_DEFAULT_SETTING,\n  alert,\n  chart,\n  codeTabs,\n  component,\n  echarts,\n  flowchart,\n  getTSPlaygroundPreset,\n  getUnoPlaygroundPreset,\n  getVuePlaygroundPreset,\n  hint,\n  kotlinPlayground,\n  markmap,\n  mdDemo,\n  mermaid,\n  normalDemo,\n  plantuml,\n  playground,\n  reactDemo,\n  revealJs,\n  sandpack,\n  tabs,\n  vPre,\n  vueDemo,\n  vuePlayground,\n} from \"./markdown-it/index.js\";\nimport type { MarkdownEnhancePluginOptions } from \"./options.js\";\nimport {\n  prepareConfigFile,\n  prepareMathjaxStyle,\n  prepareRevealJsPluginFile,\n  prepareRevealJsStyleFile,\n} from \"./prepare/index.js\";\nimport type { KatexOptions } from \"./typings/index.js\";\nimport { PLUGIN_NAME, isInstalled, logger } from \"./utils.js\";\n\nexport const mdEnhancePlugin =\n  (\n    options: MarkdownEnhancePluginOptions = { gfm: true },\n    legacy = true,\n  ): PluginFunction =>\n  (app) => {\n    // TODO: Remove this in v2 stable\n    if (legacy)\n      convertOptions(\n        options as MarkdownEnhancePluginOptions & Record<string, unknown>,\n      );\n\n    if (app.env.isDebug) logger.info(\"Options:\", options);\n\n    const source = app.dir.source();\n\n    const getStatus = (\n      key: keyof MarkdownEnhancePluginOptions,\n      gfm = false,\n      pkgs: string[] = [],\n    ): boolean => {\n      const enabled = Boolean(options?.[key] ?? (gfm && options.gfm) ?? false);\n      const pkgInstalled = pkgs.every((pkg) =>\n        isInstalled(pkg, Boolean(options[key])),\n      );\n\n      return enabled && pkgInstalled;\n    };\n\n    const locales = getLocaleConfig({\n      app,\n      name: PLUGIN_NAME,\n      default: markdownEnhanceLocales,\n      config: options.locales,\n    });\n\n    const status = {\n      alert: getStatus(\"alert\", true),\n      breaks: getStatus(\"breaks\", true),\n      chart: getStatus(\"chart\", false, [\"chart.js\"]),\n      echarts: getStatus(\"echarts\", false, [\"echarts\"]),\n      flowchart: getStatus(\"flowchart\", false, [\"flowchart.ts\"]),\n      footnote: getStatus(\"footnote\", true),\n      imgLazyload: getStatus(\"imgLazyload\"),\n      imgMark: getStatus(\"imgMark\", true),\n      linkify: getStatus(\"linkify\", true),\n      katex: getStatus(\"katex\", false, [\"katex\"]),\n      mathjax: !options.katex && getStatus(\"mathjax\", true, [\"mathjax-full\"]),\n      mark: getStatus(\"mark\"),\n      markmap: getStatus(\"markmap\", false, [\n        \"markmap-lib\",\n        \"markmap-toolbar\",\n        \"markmap-view\",\n      ]),\n      mermaid: getStatus(\"mermaid\", false, [\"mermaid\"]),\n      obsidianImgSize: getStatus(\"obsidianImgSize\"),\n      revealJs: getStatus(\"revealJs\", false, [\"reveal.js\"]),\n      tasklist: getStatus(\"tasklist\", true),\n      kotlinPlayground: getStatus(\"kotlinPlayground\", false, [\n        \"kotlin-playground\",\n      ]),\n      sandpack: getStatus(\"sandpack\", false, [\"sandpack-vue3\"]),\n      vuePlayground: getStatus(\"vuePlayground\", false, [\"@vue/repl\"]),\n    };\n\n    const katexOptions: KatexOptions<MarkdownEnv> = {\n      mathFence: options.gfm ?? false,\n      macros: {\n        // Support more symbols\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\liiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\iiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\idotsint\": \"\\\\int\\\\!\\\\cdots\\\\!\\\\int\",\n      },\n      logger: (errorCode, errorMsg, token, { filePathRelative }) => {\n        // Ignore this error\n        if (errorCode === \"newLineInDisplayMode\") return;\n\n        if (errorCode === \"unicodeTextInMathMode\")\n          logger.warn(\n            `Found unicode character ${token.text} inside tex${\n              filePathRelative ? ` in ${colors.cyan(filePathRelative)}` : \"\"\n            }. You should use ${colors.magenta(`\\\\text{${token.text}}`)}`,\n          );\n        else\n          logger.warn(\n            `${errorMsg}.${\n              filePathRelative\n                ? `\\nFound in ${colors.cyan(filePathRelative)}`\n                : \"\"\n            }`,\n          );\n      },\n      ...(isPlainObject(options.katex) ? options.katex : {}),\n      vPre: true,\n    };\n\n    const mathjaxInstance = status.mathjax\n      ? createMathjaxInstance({\n          mathFence: options.gfm ?? false,\n          ...(isPlainObject(options.mathjax) ? options.mathjax : {}),\n          vPre: true,\n        })\n      : null;\n\n    const revealJsOptions = isPlainObject(options.revealJs)\n      ? options.revealJs\n      : {};\n\n    useSassPalettePlugin(app, { id: \"hope\" });\n\n    return {\n      name: PLUGIN_NAME,\n\n      define: (): Record<string, unknown> => ({\n        MARKDOWN_ENHANCE_DELAY: options.delay ?? 800,\n        CODE_DEMO_OPTIONS: {\n          ...CODE_DEMO_DEFAULT_SETTING,\n          ...(isPlainObject(options.demo) ? options.demo : {}),\n        },\n        VUE_PLAYGROUND_MONACO:\n          isPlainObject(options.vuePlayground) &&\n          options.vuePlayground.editor === \"monaco\",\n      }),\n\n      extendsBundlerOptions: (bundlerOptions: unknown, app): void => {\n        addViteSsrNoExternal(bundlerOptions, app, [\n          \"@vuepress/helper\",\n          \"fflate\",\n          \"vuepress-shared\",\n        ]);\n\n        if (status.mathjax) addCustomElement(bundlerOptions, app, /^mjx-/);\n\n        if (status.chart) {\n          addViteOptimizeDepsExclude(\n            bundlerOptions,\n            app,\n            \"chart.js/auto/auto.mjs\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"chart.js\");\n        }\n\n        if (status.echarts) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"echarts\");\n          addViteSsrExternal(bundlerOptions, app, \"echarts\");\n        }\n\n        if (status.flowchart) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, \"flowchart.ts\");\n          addViteSsrExternal(bundlerOptions, app, \"flowchart.ts\");\n        }\n\n        if (status.markmap) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, [\n            \"markmap-lib\",\n            \"markmap-toolbar\",\n            \"markmap-view\",\n          ]);\n          addViteSsrExternal(bundlerOptions, app, [\n            \"markmap-lib\",\n            \"markmap-toolbar\",\n            \"markmap-view\",\n          ]);\n        }\n\n        if (status.mermaid) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"mermaid\");\n          addViteSsrExternal(bundlerOptions, app, \"mermaid\");\n        }\n\n        if (status.revealJs) {\n          addViteOptimizeDepsExclude(bundlerOptions, app, [\n            \"reveal.js/dist/reveal.esm.js\",\n            \"reveal.js/plugin/markdown/markdown.esm.js\",\n            ...(revealJsOptions.plugins ?? []).map(\n              (plugin) => `reveal.js/plugin/${plugin}/${plugin}.esm.js`,\n            ),\n          ]);\n\n          addViteSsrExternal(bundlerOptions, app, \"reveal.js\");\n        }\n\n        if (status.kotlinPlayground) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"kotlin-playground\");\n          addViteOptimizeDepsNeedsInterop(\n            bundlerOptions,\n            app,\n            \"kotlin-playground\",\n          );\n          addViteSsrExternal(bundlerOptions, app, \"kotlin-playground\");\n        }\n\n        if (status.sandpack) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"sandpack-vue3\");\n          addViteSsrExternal(bundlerOptions, app, \"sandpack-vue3\");\n        }\n\n        if (status.vuePlayground) {\n          addViteOptimizeDepsInclude(bundlerOptions, app, \"@vue/repl\");\n          addViteSsrExternal(bundlerOptions, app, \"@vue/repl\");\n\n          // Hide webpack warnings\n          chainWebpack(bundlerOptions, app, (config) => {\n            // TODO: Probably need to fix upstream\n            config.resolve.set(\"conditionNames\", [\n              \"browser\",\n              \"import\",\n              \"module\",\n            ]);\n            config.module.set(\"exprContextCritical\", false);\n            config.module.set(\"unknownContextCritical\", false);\n          });\n        }\n      },\n\n      extendsMarkdown: (md): void => {\n        // Behavior\n        if (status.breaks) md.options.breaks = true;\n        if (status.linkify) md.options.linkify = true;\n\n        // GFM syntax\n        if (status.alert) md.use(alert, locales);\n        if (status.footnote) md.use(footnote);\n        if (status.tasklist)\n          md.use(tasklist, [\n            isPlainObject(options.tasklist) ? options.tasklist : {},\n          ]);\n        if (status.imgMark)\n          md.use(\n            imgMark,\n            isPlainObject(options.imgMark) ? options.imgMark : {},\n          );\n\n        if (options.attrs)\n          md.use(attrs, isPlainObject(options.attrs) ? options.attrs : {});\n        if (options.align) md.use(align);\n        if (options.component) md.use(component);\n        if (options.figure) md.use(figure);\n        if (options.hint) md.use(hint, locales);\n        if (options.imgLazyload) md.use(imgLazyload);\n        if (options.imgSize) md.use(imgSize);\n        if (options.mark) md.use(mark);\n        if (options.obsidianImgSize) md.use(obsidianImageSize);\n        if (options.spoiler) md.use(spoiler);\n        if (options.sup) md.use(sup);\n        if (options.sub) md.use(sub);\n\n        // TODO: Remove this in v2 stable\n        // @ts-expect-error: card does not exist\n        if (options.card && legacy) md.use(legacyCard);\n\n        // Additional functions\n        if (\n          options.vPre ??\n          // TODO: Remove this in v2 stable\n          legacy\n        )\n          md.use(vPre);\n\n        if (status.katex) {\n          md.use(katex, katexOptions);\n        } else if (status.mathjax) {\n          md.use(mathjax, mathjaxInstance!);\n          // Reset mathjax style in each render\n          md.use((md) => {\n            const originalRender = md.render.bind(md);\n\n            md.render = (src: string, env: unknown): string => {\n              const result = originalRender(src, env);\n\n              mathjaxInstance!.reset();\n\n              return result;\n            };\n          });\n        }\n\n        if (options.include) {\n          md.use(include, {\n            currentPath: (env: MarkdownEnv) => env.filePath,\n            ...(isPlainObject(options.include) ? options.include : {}),\n          });\n\n          if (legacy)\n            md.use(legacyInclude, {\n              currentPath: (env: MarkdownEnv) => env.filePath,\n            });\n        }\n\n        if (options.stylize)\n          md.use(stylize, {\n            config: options.stylize,\n            localConfigGetter: (env: MarkdownEnv) =>\n              env.frontmatter?.[\"stylize\"] || null,\n          });\n\n        // Features\n        if (options.codetabs) {\n          md.use(codeTabs);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeGroup);\n        }\n        if (options.tabs) md.use(tabs);\n        if (status.flowchart) {\n          md.use(flowchart);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyFlowchart);\n        }\n        if (status.chart) md.use(chart);\n        if (status.echarts) md.use(echarts);\n        if (isArray(options.plantuml)) md.use(plantuml, options);\n        else if (options.plantuml) md.use(plantuml);\n        if (options.demo) {\n          md.use(mdDemo);\n          md.use(normalDemo);\n          md.use(vueDemo);\n          md.use(reactDemo);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeDemo);\n        }\n        if (status.markmap) md.use(markmap);\n        if (status.mermaid) md.use(mermaid);\n        if (status.revealJs) md.use(revealJs);\n        if (isPlainObject(options.playground)) {\n          const { presets = [], config = {} } = options.playground;\n\n          presets.forEach((preset) => {\n            if (preset === \"ts\")\n              md.use(playground, getTSPlaygroundPreset(config.ts ?? {}));\n            else if (preset === \"vue\")\n              md.use(playground, getVuePlaygroundPreset(config.vue ?? {}));\n            else if (preset === \"unocss\")\n              md.use(playground, getUnoPlaygroundPreset(config.unocss ?? {}));\n            else if (isPlainObject(preset)) md.use(playground, preset);\n          });\n        }\n        if (status.kotlinPlayground) md.use(kotlinPlayground);\n        if (status.vuePlayground) md.use(vuePlayground);\n        if (status.sandpack) md.use(sandpack);\n      },\n\n      extendsPage: (page): void => {\n        const { markdownEnv, frontmatter, filePathRelative } = page;\n\n        if (options.include) {\n          const { includedFiles = [] } = markdownEnv as IncludeEnv;\n\n          // mark included files as page deps\n          page.deps.push(...includedFiles);\n\n          // add included files as git deps\n          ((frontmatter[\"gitInclude\"] as string[]) ??= []).push(\n            ...includedFiles.map((file) =>\n              path.relative(\n                path.resolve(source, filePathRelative, \"..\"),\n                path.resolve(source, filePathRelative, file),\n              ),\n            ),\n          );\n        }\n      },\n\n      onPrepared: async (app): Promise<void> => {\n        const promises = [];\n\n        if (status.mathjax)\n          promises.push(prepareMathjaxStyle(app, mathjaxInstance!));\n\n        if (status.revealJs)\n          promises.push(\n            prepareRevealJsPluginFile(app, revealJsOptions.plugins),\n            prepareRevealJsStyleFile(app, revealJsOptions.themes),\n          );\n\n        await Promise.all(promises);\n      },\n\n      clientConfigFile: (app) =>\n        prepareConfigFile(app, options, status, legacy),\n    };\n  };\n"],"names":["markdownEnhanceLocales","alert","md","options","_alert","tokens","index","_options","env","type","relativePath","ensureLeadingSlash","localePath","resolveLocalePath","chart","container","title","key","config","configType","i","content","info","encodeData","NEWLINES_RE","stringifyProp","data","escapeHtml","unsafeHTML","CODE_DEMO_DEFAULT_SETTING","getPlugin","name","code","language","normalDemo","vueDemo","reactDemo","mdDemo","demo","_env","self","token","item","codeTabs","tab","active","meta","titles","tabsData","id","tokenIndex","foundFence","block","__dirname","getDirname","PLUGIN_NAME","logger","Logger","CLIENT_FOLDER","ensureEndingSlash","path","isInstalled","pkg","hint","getInstalledStatus","getComponentRender","filePathRelative","load","component","fence","args","fenceName","componentName","echartsRender","echarts","isJavaScript","flowchartRender","flowchart","realInfo","AT_MARKER","VALID_MARKERS","getPlaygroundRule","state","startLine","endLine","silent","start","max","pos","markerCount","markup","params","containerName","nextLine","autoClosed","oldParent","oldLineMax","openToken","closeToken","atMarkerRule","markerName","atMarker","openMakerMatched","defaultPropsGetter","playgroundData","playground","propsGetter","marker","hash","currentKey","foundSettings","props","entries","attr","value","e","compress","o","r","n","t","s","p","u","c","a","l","f","h","d","m","v","compressToEncodedURIComponent","optionDeclarations","getURL","compilerOptions","queryString","option","isDef","isPlainObject","getTSPlaygroundPreset","service","files","settings","tsFiles","keys","endsWith","link","deepAssign","VUE_SUPPORTED_EXTENSIONS","DEFAULT_VUE_CDN","DEFAULT_VUE_SERVER_RENDERER_CDN","getVuePlaygroundPreset","localSettings","fileInfo","fromEntries","ext","importMap","getUrlJoinParam","sign","encode","generateUnoURL","inputHTML","customCSS","customConfigRaw","getUnoPlaygroundPreset","htmlFiles","cssFiles","configFiles","simplifyParam","inputFiles","kotlinPlayground","markmapRender","markmap","mermaidRenderer","getMermaidContent","diagram","line","getMermaid","DIAGRAM_MAP","mermaid","fenceInfo","rest","plantuml","_plantuml","revealJs","uml","tabs","vPre","encodeFiles","vuePlayground","file","getAttrs","str","matches","arrAttrs","sandpackData","jsRunner","jsCode","getSandpackRule","firstSpace","sandpack","attrs","arr","foundOptions","foundSetup","fileAttrs","CARD_PROPS","checkCardProps","isString","cardRender","err","cardData","legacyCard","convertOptions","deprecatedLogger","droppedLogger","createConverter","colors","isArray","legacyCodeDemo","legacyCodeGroup","_tokens","_index","isActive","REGIONS_RE","INCLUDE_RE","dedent","text","lines","minIndentLength","acc","x","testLine","regexp","regionName","end","full","tag","findRegion","lineStart","lineId","reg","handleInclude","cwd","includedFiles","resolvedPath","filePath","realPath","fs","results","region","lineEnd","dirName","resolveInclude","currentPath","result","includePath","actualPath","createIncludeCoreRule","legacyInclude","resolvePath","deep","resolveLinkPath","resolveImagePath","legacyFlowchart","url","prepareConfigFile","app","status","legacy","imports","enhances","setups","getRealPath","style","prepareMathjaxStyle","mathjaxInstance","AVAILABLE_THEMES","prepareRevealJsPluginFile","revealPlugins","plugin","prepareRevealJsStyleFile","revealThemes","styles","mdEnhancePlugin","source","getStatus","gfm","pkgs","enabled","pkgInstalled","locales","getLocaleConfig","katexOptions","errorCode","errorMsg","createMathjaxInstance","revealJsOptions","useSassPalettePlugin","bundlerOptions","addViteSsrNoExternal","addCustomElement","addViteOptimizeDepsExclude","addViteSsrExternal","addViteOptimizeDepsInclude","addViteOptimizeDepsNeedsInterop","chainWebpack","footnote","tasklist","imgMark","align","figure","imgLazyload","imgSize","mark","obsidianImageSize","spoiler","sup","sub","katex","mathjax","originalRender","src","include","stylize","presets","preset","page","markdownEnv","frontmatter","promises"],"mappings":"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"}
import{deepAssign as w}from"@vuepress/helper/client";import{defineComponent as P,ref as U,shallowRef as n,computed as V,onMounted as I,h as r,version as C}from"vue";import{LoadingIcon as S}from"vuepress-shared/client";import"@vue/repl/style.css";import"../styles/vue-playground.scss";import{u as M}from"../vuePlayground-CO_YI934.js";const b=e=>JSON.parse(decodeURIComponent(e));var O=P({name:"VuePlayground",props:{title:{type:String,default:""},files:{type:String,required:!0},settings:{type:String,default:"{}"}},setup(e){const{vueVersion:t=C,vueRuntimeDevUrl:l=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.js`,vueRuntimeProdUrl:a=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.prod.js`,vueServerRendererUrl:p=`https://unpkg.com/@vue/server-renderer@${t}/dist/server-renderer.esm-browser.js`,...m}=M(),u=U(!0),o=n(),s=n(),i=n(),d=V(()=>w({},m,b(e.settings))),v=async()=>{const[{useStore:c,useVueImportMap:g,Repl:f},{default:R}]=await Promise.all([import("@vue/repl"),VUE_PLAYGROUND_MONACO?import("@vue/repl/monaco-editor"):import("@vue/repl/codemirror-editor")]);o.value=f,i.value=R;const{importMap:y,vueVersion:h}=g({runtimeDev:l,runtimeProd:a,serverRenderer:p});s.value=c({builtinImportMap:y,vueVersion:h},decodeURIComponent(e.files))};return I(async()=>{await v(),u.value=!1}),()=>[r("div",{class:"vue-playground-wrapper"},[e.title?r("div",{class:"header"},decodeURIComponent(e.title)):null,r("div",{class:"repl-container"},[u.value?r(S,{class:"preview-loading",height:192}):null,o.value?r(o.value,{...d.value,editor:i.value,store:s.value}):null])])]}});export{O as default};
//# sourceMappingURL=VuePlayground.js.map

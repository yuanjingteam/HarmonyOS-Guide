import{decodeData as p}from"@vuepress/helper/client";import{useEventListener as c,useDebounceFn as m}from"@vueuse/core";import{defineComponent as f,shallowRef as w,ref as i,computed as h,onMounted as v,h as s}from"vue";import{LoadingIcon as g}from"vuepress-shared/client";import"../styles/flowchart.scss";import{f as d}from"../index-D5Lp0y24.js";var y=f({name:"FlowChart",props:{code:{type:String,required:!0},id:{type:String,required:!0},preset:{type:String,default:"vue"}},setup(r){let o=null;const u=w(),n=i(!0),t=i(1),a=h(()=>d[r.preset]||(console.warn(`[md-enhance:flowchart] Unknown preset: ${r.preset}`),d.vue)),l=e=>e<419?.8:e>1280?1:.9;return v(()=>{Promise.all([import("flowchart.ts"),new Promise(e=>setTimeout(e,MARKDOWN_ENHANCE_DELAY))]).then(([{parse:e}])=>{o=e(p(r.code)),t.value=l(window.innerWidth),n.value=!1,o.draw(r.id,{...a.value,scale:t.value})}),c("resize",m(()=>{if(o){const e=l(window.innerWidth);t.value!==e&&(t.value=e,o.draw(r.id,{...a.value,scale:e}))}},100))}),()=>[n.value?s(g,{class:"flowchart-loading",height:192}):null,s("div",{ref:u,class:["flowchart-wrapper",r.preset],id:r.id,style:{display:n.value?"none":"block"}})]}});export{y as default};
//# sourceMappingURL=FlowChart.js.map

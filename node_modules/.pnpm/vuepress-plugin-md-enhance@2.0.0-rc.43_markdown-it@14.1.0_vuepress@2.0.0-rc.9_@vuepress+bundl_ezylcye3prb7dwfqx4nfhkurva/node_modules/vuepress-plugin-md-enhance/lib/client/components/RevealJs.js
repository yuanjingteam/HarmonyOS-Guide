import{decodeData as g}from"@vuepress/helper/client";import{defineComponent as h,ref as m,shallowRef as y,onMounted as w,onUnmounted as S,h as a}from"vue";import{usePageFrontmatter as R}from"vuepress/client";import{LoadingIcon as b}from"vuepress-shared/client";import{useRevealJs as A}from"@temp/md-enhance/revealjs-plugins.js";import"../styles/revealjs/index.scss";import"../styles/revealjs/theme/fonts/league-gothic.scss";import"../styles/revealjs/theme/fonts/source-sans-pro.scss";import{u as J}from"../revealJs-BPetffv9.js";var N=h({name:"RevealJs",props:{id:{type:String,required:!0},code:{type:String,required:!0},theme:{type:String,default:"auto"}},setup(r){const o=J(),t=R(),l=m(""),s=m(!0),n=y();let u=null;const p=async e=>{const v=[new Promise(i=>setTimeout(i,MARKDOWN_ENHANCE_DELAY)),...A()],[,c,...f]=await Promise.all(v),d=new c.default(e,{backgroundTransition:"slide",hash:t.value.layout==="Slide",mouseWheel:t.value.layout==="Slide",transition:"slide",slideNumber:!0,...o,...t.value.revealJs,embedded:t.value.layout!=="Slide",markdown:{separator:`^\r?\\n---\r?
$`,verticalSeparator:`^\r?
--\r?
$`},plugins:[...f.map(({default:i})=>i),...o.plugins??[]]});return await d.initialize(),d};return w(async()=>{const e=n.value;e&&(l.value=g(r.code),e.setAttribute("id",r.id),e.setAttribute("data-theme",r.theme),u=await p(e),s.value=!1)}),S(()=>{u?.destroy()}),()=>a("div",{class:"vp-reveal"},[a("div",{ref:n,class:["reveal","reveal-viewport"]},a("div",{class:"slides",innerHTML:`<section data-markdown><script type="text/template">${l.value}<\/script></section>`})),s.value?a(b,{class:"reveal-loading",height:400}):null])}});export{N as default};
//# sourceMappingURL=RevealJs.js.map

import{defineComponent as v,ref as g,computed as b,h as t}from"vue";import{LoadingIcon as c}from"vuepress-shared/client";import"../styles/bili-bili.scss";import{v as h}from"../iframeAllow-Bxu5dfSj.js";import{u as S}from"../useSize-C8GaR9if.js";import"@vuepress/helper/client";import"@vueuse/core";const d="https://player.bilibili.com/player.html";var $=v({name:"BiliBili",props:{bvid:{type:String,default:""},aid:{type:String,default:""},cid:{type:String,default:""},title:{type:String,default:"A BiliBili video"},page:{type:[String,Number],default:1},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:[String,Number],default:16/9},time:{type:[String,Number],default:0},autoplay:Boolean},setup(i){const{el:m,width:n,height:f,resize:s}=S(i),e=g(!1),l=b(()=>{const{aid:a,bvid:r,cid:o,autoplay:u,time:p,page:y}=i;return a&&o?`${d}?aid=${a}&cid=${o}&t=${p}&autoplay=${u?1:0}&p=${y}`:r?`${d}?bvid=${r}&t=${p}&autoplay=${u?1:0}`:null});return()=>l.value?[t("div",{class:"bilibili-desc"},t("a",{class:"sr-only",href:l.value},i.title)),t("iframe",{ref:m,src:l.value,title:i.title,class:"bilibili-iframe",allow:h,style:{width:n.value,height:e.value?f.value:0},onLoad:()=>{e.value=!0,s()}}),e.value?null:t(c)]:[]}});export{$ as default};
//# sourceMappingURL=BiliBili.js.map
